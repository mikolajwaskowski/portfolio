{"version":3,"sources":["main.min.js","main.js","scrolltrigger.min.js"],"names":["getFormData","form","document","getElementById","data","Object","keys","elements","map","key","isNaN","value","emailValid","email","re","test","formLoading","event","target","children","contact_form__submit","disabled","innerHTML","className","style","display","formLoadingReset","inputsFilled","filled","message","length","name","handleFormSubmit","preventDefault","isLoading","allInputsFilled","url","action","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","status","console","log","responseText","encoded","encodeURIComponent","join","send","menuTrigger","overlay","classList","toggle","overlayActive","contains","scrollTo","getAttribute","scrollIntoView","behavior","insertPortoflioItems","items","container","forEach","element","index","section","createElement","sectionMedia","previewImage","sectionText","dataset","scroll","ANIMATION","previewText","appendChild","fillPortfolioItemDescription","itemId","itemName","querySelector","itemDescrption","imagesContainer","toolsContainer","liveAt","externalLinkButton","PORTFOLIO_ITEMS","description","images","tools","TOOLS","icon","href","viewChanger","onViewChange","evt","currentTarget","portfolioItemId","view","portfolioDescriptionView","scrollTop","backButton","querySelectorAll","listItems","j","addEventListener","k","runScrollAnimations","ScrollTrigger","init","loaded","menuBtn","menuBtnClose","menuLinks","getElementsByClassName","i","isLocalhost","Boolean","window","location","hostname","match","navigator","protocol","serviceWorker","register","then","registration","onupdatefound","controller","installingWorker","installing","onstatechange","state","Error","e","error","sketch","mailingHtml","spotify","n","r","o","scrollElement","innerHeight","c","bindElement","a","t","d","m","getBoundingClientRect","top","u","h","split","w","parseInt","f","v","b","indexOf","g","offsetHeight","add","remove","splice","E","p","call","s","l","this","body","requestAnimationFrame","slice","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","onscroll","attach","push","detach"],"mappings":"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","file":"main.min.js","sourcesContent":["'use strict'; /*!\n               *\n               *  Web Starter Kit\n               *  Copyright 2015 Google Inc. All rights reserved.\n               *\n               *  Licensed under the Apache License, Version 2.0 (the \"License\");\n               *  you may not use this file except in compliance with the License.\n               *  You may obtain a copy of the License at\n               *\n               *    https://www.apache.org/licenses/LICENSE-2.0\n               *\n               *  Unless required by applicable law or agreed to in writing, software\n               *  distributed under the License is distributed on an \"AS IS\" BASIS,\n               *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n               *  See the License for the specific language governing permissions and\n               *  limitations under the License\n               *\n               */\n/* eslint-env browser */\n(function () {\n  'use strict';\n\n  // Check to make sure service workers are supported in the current browser,\n  // and that the current page is accessed from a secure origin. Using a\n  // service worker from an insecure origin will trigger JS console errors. See\n  // http://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features\n  var isLocalhost = Boolean(window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n  /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));\n\n\n\n  if ('serviceWorker' in navigator && (\n  window.location.protocol === 'https:' || isLocalhost)) {\n    navigator.serviceWorker.register('service-worker.js').\n    then(function (registration) {\n      // updatefound is fired if service-worker.js changes.\n      registration.onupdatefound = function () {\n        // updatefound is also fired the very first time the SW is installed,\n        // and there's no need to prompt for a reload at that point.\n        // So check here to see if the page is already controlled,\n        // i.e. whether there's an existing service worker.\n        if (navigator.serviceWorker.controller) {\n          // The updatefound event implies that registration.installing is set:\n          // https://slightlyoff.github.io/ServiceWorker/spec/service_worker/index.html\n          var installingWorker = registration.installing;\n\n          installingWorker.onstatechange = function () {\n            switch (installingWorker.state) {\n              case 'installed':\n                // At this point, the old content will have been purged and the\n                // fresh content will have been added to the cache.\n                // It's the perfect time to display a \"New content is\n                // available; please refresh.\" message in the page's interface.\n                break;\n\n              case 'redundant':\n                throw new Error('The installing ' +\n                'service worker became redundant.');\n\n              default:\n              // Ignore\n            }\n          };\n        }\n      };\n    }).catch(function (e) {\n      console.error('Error during service worker registration:', e);\n    });\n  }\n\n  /**\n    *\n    *\n    *\n    * Custom JavaScript\n    *\n    *\n    *\n    **/\n\n  var PORTFOLIO_ITEMS = [\n  {\n    name: 'test',\n    previewText: 'Elit fringilla rutrum. Aenean sollicitudin, erat a elementum rutrum, neque sem pretium metus, quis mollis nisl nunc et massa. Vestibulum sed metus in lorem tristique ullamcorper id vitae erat.',\n    previewImage: './images/portfolio_items/1.jpg',\n    description: 'description',\n    images: ['./images/portfolio_items/1.jpg'],\n    tools: ['sketch', 'mailingHtml', 'spotify'],\n    liveAt: 'google.com' },\n\n  {\n    name: 'test 2',\n    previewText: 'Vestibulum sed metus in lorem tristique ullamcorper id vitae erat.',\n    previewImage: './images/portfolio_items/2.jpg',\n    description: 'description 2',\n    images: ['./images/portfolio_items/2.jpg', './images/portfolio_items/1.jpg'],\n    tools: ['sketch', 'mailingHtml'],\n    liveAt: 'facebook.com' }];\n\n\n\n  var TOOLS = {\n    sketch: {\n      name: 'Sketch',\n      icon: './images/tool-sketch.png' },\n\n    mailingHtml: {\n      name: 'E-mailing HTML',\n      icon: './images/tool-template.png' },\n\n    spotify: {\n      name: 'Spotify',\n      icon: './images/tool-spotify.png' } };\n\n\n\n  var ANIMATION = '260 animation__fade-in-up animation__out once';\n\n  /**\n                                                                   * Gets contact form input values\n                                                                   * @return {object} set of inputs -> object[input_name] = input_value\n                                                                   */\n  function getFormData() {\n    var form = document.getElementById('contact_form');\n    // get form inputs data\n    var data = {};\n    Object.keys(form.elements).map(function (key) {\n      if (isNaN(key)) {\n        data[key] = form.elements[key].value;\n      }\n    });\n    return data;\n  }\n\n  /**\n    * Email validation regexp\n    * @param {string} email for validation\n    * @return {boolean} email validation result\n    */\n  function emailValid(email) {\n    var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return !re.test(email);\n  }\n\n  /**\n    * Form state - loading\n    * @param {Object} event DOM form event\n    * @return {boolean} is loading? true\n    */\n  function formLoading(event) {\n    // make visual change for loading state\n    event.target.children.contact_form__submit.disabled = true;\n    event.target.children.contact_form__submit.innerHTML = 'Wysyłanie...';\n    event.target.children.contact_form__submit.className += ' button--loading';\n    document.getElementById('form__error').style.display = 'none';\n\n    return true;\n  }\n  /**\n    * Form loading state - reset\n    * @param {Object} event DOM form event\n    * @return {boolean} is loading? false\n    */\n  function formLoadingReset(event) {\n    // make visual change for loading state\n    event.target.children.contact_form__submit.disabled = false;\n    event.target.children.contact_form__submit.innerHTML = 'Wyślij';\n    event.target.children.contact_form__submit.className = 'button button--primary';\n\n    return false;\n  }\n  /**\n    * Detects empty inputs in form\n    * @param {Object} event DOM form event\n    * @return {boolean} every form inputs filled?\n    */\n  function inputsFilled(event) {\n    var filled = true;\n    if (event.target.message.value.length === 0) {\n      filled = false;\n    }\n    if (event.target.name.value.length === 0) {\n      filled = false;\n    }\n    if (event.target.email.value.length === 0) {\n      filled = false;\n    }\n\n    return filled;\n  }\n\n  /**\n    * Send form data\n    * @param {Object} event DOM event\n    */\n  function handleFormSubmit(event) {\n    event.preventDefault();\n    var data = getFormData();\n    var isLoading = false;\n    var allInputsFilled = inputsFilled(event);\n\n    // VALIDATION\n    if (isLoading || !allInputsFilled) {\n      document.getElementById('form__error').innerHTML = 'Uzupełnij wszystkie pola formularza';\n      document.getElementById('form__error').style.display = 'block';\n    } else if (emailValid(data.email)) {\n      document.getElementById('form__error').innerHTML = 'Wpisz prawidłowy adres e-mail';\n      document.getElementById('form__error').style.display = 'block';\n    } else {\n      // VALIDATION PASSED\n      isLoading = formLoading(event);\n      var url = event.target.action;\n      var xhr = new XMLHttpRequest();\n      xhr.open('POST', url);\n      xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n      xhr.onreadystatechange = function () {\n        isLoading = formLoadingReset(event);\n        if (xhr.status === 200) {\n          document.getElementById('contact_form').style.display = 'none';\n          document.getElementById('thankyou_message').style.display = 'block';\n        } else {\n          document.getElementById('form__error').innerHTML = 'Coś poszło nie tak :( <br /> Wyślij proszę e-mail na adres: <a href=\"mailto:waskowski.mikolaj@gmail.com\">waskowski.mikolaj@gmail.com</a>. <br /> Dziękuję!';\n          document.getElementById('form__error').style.display = 'block';\n          console.log(xhr.responseText);\n        }\n      };\n      // url encode form data for sending as post data\n      var encoded = Object.keys(data).map(function (key) {\n        return encodeURIComponent(key) + '=' + encodeURIComponent(data[key]);\n      }).join('&');\n\n      xhr.send(encoded);\n    }\n  }\n\n  /**\n    * Activating overlay menu\n    */\n  function menuTrigger() {\n    var overlay = document.getElementById('overlay');\n    overlay.classList.toggle('menu-overlay--open');\n  }\n\n  /**\n    * Check that menu is opened (overlay is active)\n    * @return {boolean} Menu active?\n    */\n  function overlayActive() {\n    return document.getElementById('overlay').classList.contains('menu-overlay--open');\n  }\n\n  /**\n    * Scrolls to element, closing menu overlay if needed\n    * @param {Object} event DOM event\n    */\n  function scrollTo(event) {\n    // goto section marked as button data-goto attribute\n    document.getElementById(event.target.getAttribute('data-goto')).scrollIntoView({\n      // works only for Firefox... :(\n      behavior: 'smooth' });\n\n    // need to close menu overlay?\n    if (overlayActive()) {\n      menuTrigger();\n    }\n  }\n\n  /**\n    * Fill portfolio with Portfolio_items\n    * @param {Array} items - array of portfolio items\n    */\n  function insertPortoflioItems(items) {\n    var container = document.getElementById('portfolio_items_container');\n    items.forEach(function (element, index) {\n      // create main container\n      var section = document.createElement('section');\n      section.className += ' container section section--left section--portfolio-item ';\n      // create box for item preview\n      var sectionMedia = document.createElement('div');\n      sectionMedia.className += ' section__media section__media--portfolio-item ';\n      sectionMedia.innerHTML = '<img src=\"' + element.previewImage + '\" alt=\"portfolio_item\" class=\"button--show-more\" data-itemid=\"' + index + '\" />';\n      // create box for item name and description\n      var sectionText = document.createElement('div');\n      sectionText.dataset.scroll = ANIMATION;\n      sectionText.className += ' section__text section__text--portfolio-item ';\n      sectionText.innerHTML = '<h3 class=\"section__title\">' + element.name + '</h3>';\n      sectionText.innerHTML += '<p>' + element.previewText + '</p>';\n      sectionText.innerHTML += '<button class=\"button button--text button--green button--show-more\" data-itemid=\"' + index + '\"><img src=\"./images/icon-info.svg\" alt=\"\" class=\"button__icon--left\" /> Zobacz szczegóły</button>';\n      section.appendChild(sectionMedia);\n      section.appendChild(sectionText);\n      container.appendChild(section);\n    });\n  }\n\n  /**\n    * Fill portfolio item description with data\n    * @param {Number} itemId - id of portfolio item\n    */\n  function fillPortfolioItemDescription(itemId) {\n    var itemName = document.querySelector('.portfolio__item-name');\n    var itemDescrption = document.querySelector('.portfolio__item-description');\n    var imagesContainer = document.querySelector('.portfolio__images');\n    var toolsContainer = document.querySelector('.tools');\n    var liveAt = document.querySelector('.portfolio__live-at');\n    var externalLinkButton = document.querySelector('.button--live-at');\n\n    itemName.innerHTML = PORTFOLIO_ITEMS[itemId].name;\n    itemDescrption.innerHTML = PORTFOLIO_ITEMS[itemId].description;\n    // clear images container from old images\n    imagesContainer.innerHTML = '';\n    // fill images container with new images\n    PORTFOLIO_ITEMS[itemId].images.forEach(function (element, index) {\n      imagesContainer.innerHTML += '<img src=\"' + element + '\" alt=\"' + PORTFOLIO_ITEMS[itemId].name + ' - #' + index + ' presentation image\" class=\"portfolio__image\" /> ';\n    });\n    toolsContainer.innerHTML = '';\n    PORTFOLIO_ITEMS[itemId].tools.forEach(function (element) {\n      toolsContainer.innerHTML += '<div class=\"tools_item\"><img src=\"' + TOOLS[element].icon + '\" alt=\"\" class=\"\"><p>' + TOOLS[element].name + '</p></div>';\n    });\n    liveAt.innerHTML = '<p>' + PORTFOLIO_ITEMS[itemId].liveAt + '</p>';\n    externalLinkButton.href = '//' + PORTFOLIO_ITEMS[itemId].liveAt;\n  }\n\n  /**\n    * Make portfolio item alive\n    **/\n  function viewChanger() {\n    var view = document.querySelector('.view');\n    var backButton = document.querySelectorAll('.button--back');\n    var listItems = document.querySelectorAll('.button--show-more');\n    var portfolioDescriptionView = document.querySelector('.screen--portfolio-item');\n\n    /**\n                                                                                      * While clicking \"Show more\", activate description view and fill it with data\n                                                                                      * @param {Object} evt - button click event\n                                                                                      **/\n    function onViewChange(evt) {\n      evt.preventDefault();\n      // change details data\n      if (evt.currentTarget.classList.contains('button--show-more')) {\n        var portfolioItemId = evt.currentTarget.getAttribute('data-itemid');\n        fillPortfolioItemDescription(portfolioItemId);\n      }\n      // change view - add \"active\" class to main view container\n      view.classList.toggle('view--change');\n      // go to the top of portfolio item description container while \"show more\" event\n      if (view.classList.contains('view--change')) {\n        portfolioDescriptionView.scrollTop = 0;\n      }\n    }\n\n    for (var j = 0; j < listItems.length; j++) {\n      listItems[j].addEventListener('click', onViewChange, false);\n    }\n    for (var k = 0; k < backButton.length; k++) {\n      backButton[k].addEventListener('click', onViewChange, false);\n    }\n  }\n\n  /*eslint-disable */\n  function runScrollAnimations() {\n    ScrollTrigger.init();\n    console.log('Info: ScrollTrigger activated');\n  }\n  /*eslint-enable */\n\n  /**\n                     * Runs while document is loaded...\n                     */\n  function loaded() {\n    // prevent default submit form action, redirect to handleFormSubmit()\n    var form = document.getElementById('contact_form');\n    form.addEventListener('submit', handleFormSubmit, false);\n    console.log('Info: form submit function loaded');\n\n    // make internal buttons alive\n    var menuBtn = document.getElementById('menu-button');\n    menuBtn.addEventListener('click', menuTrigger, false);\n    var menuBtnClose = document.getElementById('menu-button-close');\n    menuBtnClose.addEventListener('click', menuTrigger, false);\n    var menuLinks = document.getElementsByClassName('internal-link');\n    for (var i = 0; i < menuLinks.length; i++) {\n      menuLinks[i].addEventListener('click', scrollTo, false);\n    }\n    console.log('Info: menu trigger functions loaded');\n\n    // create portfolio items\n    insertPortoflioItems(PORTFOLIO_ITEMS);\n\n    // make portoflio item alive\n    viewChanger();\n\n    // scroll animations\n    runScrollAnimations();\n  }\n  document.addEventListener('DOMContentLoaded', loaded, false);\n})();\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaXNMb2NhbGhvc3QiLCJCb29sZWFuIiwid2luZG93IiwibG9jYXRpb24iLCJob3N0bmFtZSIsIm1hdGNoIiwibmF2aWdhdG9yIiwicHJvdG9jb2wiLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJ0aGVuIiwicmVnaXN0cmF0aW9uIiwib251cGRhdGVmb3VuZCIsImNvbnRyb2xsZXIiLCJpbnN0YWxsaW5nV29ya2VyIiwiaW5zdGFsbGluZyIsIm9uc3RhdGVjaGFuZ2UiLCJzdGF0ZSIsIkVycm9yIiwiY2F0Y2giLCJlIiwiY29uc29sZSIsImVycm9yIiwiUE9SVEZPTElPX0lURU1TIiwibmFtZSIsInByZXZpZXdUZXh0IiwicHJldmlld0ltYWdlIiwiZGVzY3JpcHRpb24iLCJpbWFnZXMiLCJ0b29scyIsImxpdmVBdCIsIlRPT0xTIiwic2tldGNoIiwiaWNvbiIsIm1haWxpbmdIdG1sIiwic3BvdGlmeSIsIkFOSU1BVElPTiIsImdldEZvcm1EYXRhIiwiZm9ybSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJkYXRhIiwiT2JqZWN0Iiwia2V5cyIsImVsZW1lbnRzIiwibWFwIiwia2V5IiwiaXNOYU4iLCJ2YWx1ZSIsImVtYWlsVmFsaWQiLCJlbWFpbCIsInJlIiwidGVzdCIsImZvcm1Mb2FkaW5nIiwiZXZlbnQiLCJ0YXJnZXQiLCJjaGlsZHJlbiIsImNvbnRhY3RfZm9ybV9fc3VibWl0IiwiZGlzYWJsZWQiLCJpbm5lckhUTUwiLCJjbGFzc05hbWUiLCJzdHlsZSIsImRpc3BsYXkiLCJmb3JtTG9hZGluZ1Jlc2V0IiwiaW5wdXRzRmlsbGVkIiwiZmlsbGVkIiwibWVzc2FnZSIsImxlbmd0aCIsImhhbmRsZUZvcm1TdWJtaXQiLCJwcmV2ZW50RGVmYXVsdCIsImlzTG9hZGluZyIsImFsbElucHV0c0ZpbGxlZCIsInVybCIsImFjdGlvbiIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJzdGF0dXMiLCJsb2ciLCJyZXNwb25zZVRleHQiLCJlbmNvZGVkIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwiam9pbiIsInNlbmQiLCJtZW51VHJpZ2dlciIsIm92ZXJsYXkiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJvdmVybGF5QWN0aXZlIiwiY29udGFpbnMiLCJzY3JvbGxUbyIsImdldEF0dHJpYnV0ZSIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJpbnNlcnRQb3J0b2ZsaW9JdGVtcyIsIml0ZW1zIiwiY29udGFpbmVyIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJpbmRleCIsInNlY3Rpb24iLCJjcmVhdGVFbGVtZW50Iiwic2VjdGlvbk1lZGlhIiwic2VjdGlvblRleHQiLCJkYXRhc2V0Iiwic2Nyb2xsIiwiYXBwZW5kQ2hpbGQiLCJmaWxsUG9ydGZvbGlvSXRlbURlc2NyaXB0aW9uIiwiaXRlbUlkIiwiaXRlbU5hbWUiLCJxdWVyeVNlbGVjdG9yIiwiaXRlbURlc2NycHRpb24iLCJpbWFnZXNDb250YWluZXIiLCJ0b29sc0NvbnRhaW5lciIsImV4dGVybmFsTGlua0J1dHRvbiIsImhyZWYiLCJ2aWV3Q2hhbmdlciIsInZpZXciLCJiYWNrQnV0dG9uIiwicXVlcnlTZWxlY3RvckFsbCIsImxpc3RJdGVtcyIsInBvcnRmb2xpb0Rlc2NyaXB0aW9uVmlldyIsIm9uVmlld0NoYW5nZSIsImV2dCIsImN1cnJlbnRUYXJnZXQiLCJwb3J0Zm9saW9JdGVtSWQiLCJzY3JvbGxUb3AiLCJqIiwiYWRkRXZlbnRMaXN0ZW5lciIsImsiLCJydW5TY3JvbGxBbmltYXRpb25zIiwiU2Nyb2xsVHJpZ2dlciIsImluaXQiLCJsb2FkZWQiLCJtZW51QnRuIiwibWVudUJ0bkNsb3NlIiwibWVudUxpbmtzIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImkiXSwibWFwcGluZ3MiOiJjQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrQkE7QUFDQSxDQUFDLFlBQVc7QUFDVjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUlBLGNBQWNDLFFBQVFDLE9BQU9DLFFBQVAsQ0FBZ0JDLFFBQWhCLEtBQTZCLFdBQTdCO0FBQ3RCO0FBQ0FGLFNBQU9DLFFBQVAsQ0FBZ0JDLFFBQWhCLEtBQTZCLE9BRlA7QUFHdEI7QUFDQUYsU0FBT0MsUUFBUCxDQUFnQkMsUUFBaEIsQ0FBeUJDLEtBQXpCO0FBQ0UsMERBREYsQ0FKYyxDQUFsQjs7OztBQVNBLE1BQUksbUJBQW1CQyxTQUFuQjtBQUNDSixTQUFPQyxRQUFQLENBQWdCSSxRQUFoQixLQUE2QixRQUE3QixJQUF5Q1AsV0FEMUMsQ0FBSixFQUM0RDtBQUMxRE0sY0FBVUUsYUFBVixDQUF3QkMsUUFBeEIsQ0FBaUMsbUJBQWpDO0FBQ0NDLFFBREQsQ0FDTSxVQUFTQyxZQUFULEVBQXVCO0FBQzNCO0FBQ0FBLG1CQUFhQyxhQUFiLEdBQTZCLFlBQVc7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFJTixVQUFVRSxhQUFWLENBQXdCSyxVQUE1QixFQUF3QztBQUN0QztBQUNBO0FBQ0EsY0FBSUMsbUJBQW1CSCxhQUFhSSxVQUFwQzs7QUFFQUQsMkJBQWlCRSxhQUFqQixHQUFpQyxZQUFXO0FBQzFDLG9CQUFRRixpQkFBaUJHLEtBQXpCO0FBQ0UsbUJBQUssV0FBTDtBQUNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUYsbUJBQUssV0FBTDtBQUNFLHNCQUFNLElBQUlDLEtBQUosQ0FBVTtBQUNBLGtEQURWLENBQU47O0FBR0Y7QUFDRTtBQWJKO0FBZUQsV0FoQkQ7QUFpQkQ7QUFDRixPQTVCRDtBQTZCRCxLQWhDRCxFQWdDR0MsS0FoQ0gsQ0FnQ1MsVUFBU0MsQ0FBVCxFQUFZO0FBQ25CQyxjQUFRQyxLQUFSLENBQWMsMkNBQWQsRUFBMkRGLENBQTNEO0FBQ0QsS0FsQ0Q7QUFtQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7QUFVQSxNQUFJRyxrQkFBa0I7QUFDcEI7QUFDRUMsVUFBTSxNQURSO0FBRUVDLGlCQUFhLGtNQUZmO0FBR0VDLGtCQUFjLGdDQUhoQjtBQUlFQyxpQkFBYSxhQUpmO0FBS0VDLFlBQVEsQ0FBQyxnQ0FBRCxDQUxWO0FBTUVDLFdBQU8sQ0FBQyxRQUFELEVBQVcsYUFBWCxFQUEwQixTQUExQixDQU5UO0FBT0VDLFlBQVEsWUFQVixFQURvQjs7QUFVcEI7QUFDRU4sVUFBTSxRQURSO0FBRUVDLGlCQUFhLG9FQUZmO0FBR0VDLGtCQUFjLGdDQUhoQjtBQUlFQyxpQkFBYSxlQUpmO0FBS0VDLFlBQVEsQ0FBQyxnQ0FBRCxFQUFtQyxnQ0FBbkMsQ0FMVjtBQU1FQyxXQUFPLENBQUMsUUFBRCxFQUFXLGFBQVgsQ0FOVDtBQU9FQyxZQUFRLGNBUFYsRUFWb0IsQ0FBdEI7Ozs7QUFxQkEsTUFBSUMsUUFBUTtBQUNWQyxZQUFRO0FBQ05SLFlBQU0sUUFEQTtBQUVOUyxZQUFNLDBCQUZBLEVBREU7O0FBS1ZDLGlCQUFhO0FBQ1hWLFlBQU0sZ0JBREs7QUFFWFMsWUFBTSw0QkFGSyxFQUxIOztBQVNWRSxhQUFTO0FBQ1BYLFlBQU0sU0FEQztBQUVQUyxZQUFNLDJCQUZDLEVBVEMsRUFBWjs7OztBQWVBLE1BQUlHLFlBQVksK0NBQWhCOztBQUVBOzs7O0FBSUEsV0FBU0MsV0FBVCxHQUF1QjtBQUNyQixRQUFJQyxPQUFPQyxTQUFTQyxjQUFULENBQXdCLGNBQXhCLENBQVg7QUFDQTtBQUNBLFFBQUlDLE9BQU8sRUFBWDtBQUNBQyxXQUFPQyxJQUFQLENBQVlMLEtBQUtNLFFBQWpCLEVBQTJCQyxHQUEzQixDQUErQixVQUFTQyxHQUFULEVBQWM7QUFDM0MsVUFBSUMsTUFBTUQsR0FBTixDQUFKLEVBQWdCO0FBQ2RMLGFBQUtLLEdBQUwsSUFBWVIsS0FBS00sUUFBTCxDQUFjRSxHQUFkLEVBQW1CRSxLQUEvQjtBQUNEO0FBQ0YsS0FKRDtBQUtBLFdBQU9QLElBQVA7QUFDRDs7QUFFRDs7Ozs7QUFLQSxXQUFTUSxVQUFULENBQW9CQyxLQUFwQixFQUEyQjtBQUN6QixRQUFJQyxLQUFLLDJKQUFUO0FBQ0EsV0FBTyxDQUFDQSxHQUFHQyxJQUFILENBQVFGLEtBQVIsQ0FBUjtBQUNEOztBQUVEOzs7OztBQUtBLFdBQVNHLFdBQVQsQ0FBcUJDLEtBQXJCLEVBQTRCO0FBQzFCO0FBQ0FBLFVBQU1DLE1BQU4sQ0FBYUMsUUFBYixDQUFzQkMsb0JBQXRCLENBQTJDQyxRQUEzQyxHQUFzRCxJQUF0RDtBQUNBSixVQUFNQyxNQUFOLENBQWFDLFFBQWIsQ0FBc0JDLG9CQUF0QixDQUEyQ0UsU0FBM0MsR0FBdUQsY0FBdkQ7QUFDQUwsVUFBTUMsTUFBTixDQUFhQyxRQUFiLENBQXNCQyxvQkFBdEIsQ0FBMkNHLFNBQTNDLElBQXdELGtCQUF4RDtBQUNBckIsYUFBU0MsY0FBVCxDQUF3QixhQUF4QixFQUF1Q3FCLEtBQXZDLENBQTZDQyxPQUE3QyxHQUF1RCxNQUF2RDs7QUFFQSxXQUFPLElBQVA7QUFDRDtBQUNEOzs7OztBQUtBLFdBQVNDLGdCQUFULENBQTBCVCxLQUExQixFQUFpQztBQUMvQjtBQUNBQSxVQUFNQyxNQUFOLENBQWFDLFFBQWIsQ0FBc0JDLG9CQUF0QixDQUEyQ0MsUUFBM0MsR0FBc0QsS0FBdEQ7QUFDQUosVUFBTUMsTUFBTixDQUFhQyxRQUFiLENBQXNCQyxvQkFBdEIsQ0FBMkNFLFNBQTNDLEdBQXVELFFBQXZEO0FBQ0FMLFVBQU1DLE1BQU4sQ0FBYUMsUUFBYixDQUFzQkMsb0JBQXRCLENBQTJDRyxTQUEzQyxHQUF1RCx3QkFBdkQ7O0FBRUEsV0FBTyxLQUFQO0FBQ0Q7QUFDRDs7Ozs7QUFLQSxXQUFTSSxZQUFULENBQXNCVixLQUF0QixFQUE2QjtBQUMzQixRQUFJVyxTQUFTLElBQWI7QUFDQSxRQUFJWCxNQUFNQyxNQUFOLENBQWFXLE9BQWIsQ0FBcUJsQixLQUFyQixDQUEyQm1CLE1BQTNCLEtBQXNDLENBQTFDLEVBQTZDO0FBQzNDRixlQUFTLEtBQVQ7QUFDRDtBQUNELFFBQUlYLE1BQU1DLE1BQU4sQ0FBYS9CLElBQWIsQ0FBa0J3QixLQUFsQixDQUF3Qm1CLE1BQXhCLEtBQW1DLENBQXZDLEVBQTBDO0FBQ3hDRixlQUFTLEtBQVQ7QUFDRDtBQUNELFFBQUlYLE1BQU1DLE1BQU4sQ0FBYUwsS0FBYixDQUFtQkYsS0FBbkIsQ0FBeUJtQixNQUF6QixLQUFvQyxDQUF4QyxFQUEyQztBQUN6Q0YsZUFBUyxLQUFUO0FBQ0Q7O0FBRUQsV0FBT0EsTUFBUDtBQUNEOztBQUVEOzs7O0FBSUEsV0FBU0csZ0JBQVQsQ0FBMEJkLEtBQTFCLEVBQWlDO0FBQy9CQSxVQUFNZSxjQUFOO0FBQ0EsUUFBSTVCLE9BQU9KLGFBQVg7QUFDQSxRQUFJaUMsWUFBWSxLQUFoQjtBQUNBLFFBQUlDLGtCQUFrQlAsYUFBYVYsS0FBYixDQUF0Qjs7QUFFQTtBQUNBLFFBQUlnQixhQUFhLENBQUNDLGVBQWxCLEVBQW1DO0FBQ2pDaEMsZUFBU0MsY0FBVCxDQUF3QixhQUF4QixFQUF1Q21CLFNBQXZDLEdBQW1ELHFDQUFuRDtBQUNBcEIsZUFBU0MsY0FBVCxDQUF3QixhQUF4QixFQUF1Q3FCLEtBQXZDLENBQTZDQyxPQUE3QyxHQUF1RCxPQUF2RDtBQUNELEtBSEQsTUFHTyxJQUFJYixXQUFXUixLQUFLUyxLQUFoQixDQUFKLEVBQTRCO0FBQ2pDWCxlQUFTQyxjQUFULENBQXdCLGFBQXhCLEVBQXVDbUIsU0FBdkMsR0FBbUQsK0JBQW5EO0FBQ0FwQixlQUFTQyxjQUFULENBQXdCLGFBQXhCLEVBQXVDcUIsS0FBdkMsQ0FBNkNDLE9BQTdDLEdBQXVELE9BQXZEO0FBQ0QsS0FITSxNQUdBO0FBQ0w7QUFDQVEsa0JBQVlqQixZQUFZQyxLQUFaLENBQVo7QUFDQSxVQUFJa0IsTUFBTWxCLE1BQU1DLE1BQU4sQ0FBYWtCLE1BQXZCO0FBQ0EsVUFBSUMsTUFBTSxJQUFJQyxjQUFKLEVBQVY7QUFDQUQsVUFBSUUsSUFBSixDQUFTLE1BQVQsRUFBaUJKLEdBQWpCO0FBQ0FFLFVBQUlHLGdCQUFKLENBQXFCLGNBQXJCLEVBQXFDLG1DQUFyQztBQUNBSCxVQUFJSSxrQkFBSixHQUF5QixZQUFXO0FBQ2xDUixvQkFBWVAsaUJBQWlCVCxLQUFqQixDQUFaO0FBQ0EsWUFBSW9CLElBQUlLLE1BQUosS0FBZSxHQUFuQixFQUF3QjtBQUN0QnhDLG1CQUFTQyxjQUFULENBQXdCLGNBQXhCLEVBQXdDcUIsS0FBeEMsQ0FBOENDLE9BQTlDLEdBQXdELE1BQXhEO0FBQ0F2QixtQkFBU0MsY0FBVCxDQUF3QixrQkFBeEIsRUFBNENxQixLQUE1QyxDQUFrREMsT0FBbEQsR0FBNEQsT0FBNUQ7QUFDRCxTQUhELE1BR087QUFDTHZCLG1CQUFTQyxjQUFULENBQXdCLGFBQXhCLEVBQXVDbUIsU0FBdkMsR0FBbUQsNEpBQW5EO0FBQ0FwQixtQkFBU0MsY0FBVCxDQUF3QixhQUF4QixFQUF1Q3FCLEtBQXZDLENBQTZDQyxPQUE3QyxHQUF1RCxPQUF2RDtBQUNBekMsa0JBQVEyRCxHQUFSLENBQVlOLElBQUlPLFlBQWhCO0FBQ0Q7QUFDRixPQVZEO0FBV0E7QUFDQSxVQUFJQyxVQUFVeEMsT0FBT0MsSUFBUCxDQUFZRixJQUFaLEVBQWtCSSxHQUFsQixDQUFzQixVQUFTQyxHQUFULEVBQWM7QUFDaEQsZUFBT3FDLG1CQUFtQnJDLEdBQW5CLElBQTBCLEdBQTFCLEdBQWdDcUMsbUJBQW1CMUMsS0FBS0ssR0FBTCxDQUFuQixDQUF2QztBQUNELE9BRmEsRUFFWHNDLElBRlcsQ0FFTixHQUZNLENBQWQ7O0FBSUFWLFVBQUlXLElBQUosQ0FBU0gsT0FBVDtBQUNEO0FBQ0Y7O0FBRUQ7OztBQUdBLFdBQVNJLFdBQVQsR0FBdUI7QUFDckIsUUFBSUMsVUFBVWhELFNBQVNDLGNBQVQsQ0FBd0IsU0FBeEIsQ0FBZDtBQUNBK0MsWUFBUUMsU0FBUixDQUFrQkMsTUFBbEIsQ0FBeUIsb0JBQXpCO0FBQ0Q7O0FBRUQ7Ozs7QUFJQSxXQUFTQyxhQUFULEdBQXlCO0FBQ3ZCLFdBQU9uRCxTQUFTQyxjQUFULENBQXdCLFNBQXhCLEVBQW1DZ0QsU0FBbkMsQ0FBNkNHLFFBQTdDLENBQXNELG9CQUF0RCxDQUFQO0FBQ0Q7O0FBRUQ7Ozs7QUFJQSxXQUFTQyxRQUFULENBQWtCdEMsS0FBbEIsRUFBeUI7QUFDdkI7QUFDQWYsYUFBU0MsY0FBVCxDQUF3QmMsTUFBTUMsTUFBTixDQUFhc0MsWUFBYixDQUEwQixXQUExQixDQUF4QixFQUFnRUMsY0FBaEUsQ0FBK0U7QUFDN0U7QUFDQUMsZ0JBQVUsUUFGbUUsRUFBL0U7O0FBSUE7QUFDQSxRQUFJTCxlQUFKLEVBQXFCO0FBQ25CSjtBQUNEO0FBQ0Y7O0FBRUQ7Ozs7QUFJQSxXQUFTVSxvQkFBVCxDQUE4QkMsS0FBOUIsRUFBcUM7QUFDbkMsUUFBSUMsWUFBWTNELFNBQVNDLGNBQVQsQ0FBd0IsMkJBQXhCLENBQWhCO0FBQ0F5RCxVQUFNRSxPQUFOLENBQWMsVUFBU0MsT0FBVCxFQUFrQkMsS0FBbEIsRUFBeUI7QUFDckM7QUFDQSxVQUFJQyxVQUFVL0QsU0FBU2dFLGFBQVQsQ0FBdUIsU0FBdkIsQ0FBZDtBQUNBRCxjQUFRMUMsU0FBUixJQUFxQiwyREFBckI7QUFDQTtBQUNBLFVBQUk0QyxlQUFlakUsU0FBU2dFLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBbkI7QUFDQUMsbUJBQWE1QyxTQUFiLElBQTBCLGlEQUExQjtBQUNBNEMsbUJBQWE3QyxTQUFiLEdBQXlCLGVBQWV5QyxRQUFRMUUsWUFBdkIsR0FBc0MsZ0VBQXRDLEdBQXlHMkUsS0FBekcsR0FBaUgsTUFBMUk7QUFDQTtBQUNBLFVBQUlJLGNBQWNsRSxTQUFTZ0UsYUFBVCxDQUF1QixLQUF2QixDQUFsQjtBQUNBRSxrQkFBWUMsT0FBWixDQUFvQkMsTUFBcEIsR0FBNkJ2RSxTQUE3QjtBQUNBcUUsa0JBQVk3QyxTQUFaLElBQXlCLCtDQUF6QjtBQUNBNkMsa0JBQVk5QyxTQUFaLEdBQXdCLGdDQUFnQ3lDLFFBQVE1RSxJQUF4QyxHQUErQyxPQUF2RTtBQUNBaUYsa0JBQVk5QyxTQUFaLElBQXlCLFFBQVF5QyxRQUFRM0UsV0FBaEIsR0FBOEIsTUFBdkQ7QUFDQWdGLGtCQUFZOUMsU0FBWixJQUF5QixzRkFBc0YwQyxLQUF0RixHQUE4RixvR0FBdkg7QUFDQUMsY0FBUU0sV0FBUixDQUFvQkosWUFBcEI7QUFDQUYsY0FBUU0sV0FBUixDQUFvQkgsV0FBcEI7QUFDQVAsZ0JBQVVVLFdBQVYsQ0FBc0JOLE9BQXRCO0FBQ0QsS0FsQkQ7QUFtQkQ7O0FBRUQ7Ozs7QUFJQSxXQUFTTyw0QkFBVCxDQUFzQ0MsTUFBdEMsRUFBOEM7QUFDNUMsUUFBSUMsV0FBV3hFLFNBQVN5RSxhQUFULENBQXVCLHVCQUF2QixDQUFmO0FBQ0EsUUFBSUMsaUJBQWlCMUUsU0FBU3lFLGFBQVQsQ0FBdUIsOEJBQXZCLENBQXJCO0FBQ0EsUUFBSUUsa0JBQWtCM0UsU0FBU3lFLGFBQVQsQ0FBdUIsb0JBQXZCLENBQXRCO0FBQ0EsUUFBSUcsaUJBQWlCNUUsU0FBU3lFLGFBQVQsQ0FBdUIsUUFBdkIsQ0FBckI7QUFDQSxRQUFJbEYsU0FBU1MsU0FBU3lFLGFBQVQsQ0FBdUIscUJBQXZCLENBQWI7QUFDQSxRQUFJSSxxQkFBcUI3RSxTQUFTeUUsYUFBVCxDQUF1QixrQkFBdkIsQ0FBekI7O0FBRUFELGFBQVNwRCxTQUFULEdBQXFCcEMsZ0JBQWdCdUYsTUFBaEIsRUFBd0J0RixJQUE3QztBQUNBeUYsbUJBQWV0RCxTQUFmLEdBQTJCcEMsZ0JBQWdCdUYsTUFBaEIsRUFBd0JuRixXQUFuRDtBQUNBO0FBQ0F1RixvQkFBZ0J2RCxTQUFoQixHQUE0QixFQUE1QjtBQUNBO0FBQ0FwQyxvQkFBZ0J1RixNQUFoQixFQUF3QmxGLE1BQXhCLENBQStCdUUsT0FBL0IsQ0FBdUMsVUFBU0MsT0FBVCxFQUFrQkMsS0FBbEIsRUFBeUI7QUFDOURhLHNCQUFnQnZELFNBQWhCLElBQTZCLGVBQWV5QyxPQUFmLEdBQXlCLFNBQXpCLEdBQXFDN0UsZ0JBQWdCdUYsTUFBaEIsRUFBd0J0RixJQUE3RCxHQUFvRSxNQUFwRSxHQUE2RTZFLEtBQTdFLEdBQXFGLG1EQUFsSDtBQUNELEtBRkQ7QUFHQWMsbUJBQWV4RCxTQUFmLEdBQTJCLEVBQTNCO0FBQ0FwQyxvQkFBZ0J1RixNQUFoQixFQUF3QmpGLEtBQXhCLENBQThCc0UsT0FBOUIsQ0FBc0MsVUFBU0MsT0FBVCxFQUFrQjtBQUN0RGUscUJBQWV4RCxTQUFmLElBQTRCLHVDQUF1QzVCLE1BQU1xRSxPQUFOLEVBQWVuRSxJQUF0RCxHQUE2RCx1QkFBN0QsR0FBdUZGLE1BQU1xRSxPQUFOLEVBQWU1RSxJQUF0RyxHQUE2RyxZQUF6STtBQUNELEtBRkQ7QUFHQU0sV0FBTzZCLFNBQVAsR0FBbUIsUUFBUXBDLGdCQUFnQnVGLE1BQWhCLEVBQXdCaEYsTUFBaEMsR0FBeUMsTUFBNUQ7QUFDQXNGLHVCQUFtQkMsSUFBbkIsR0FBMEIsT0FBTzlGLGdCQUFnQnVGLE1BQWhCLEVBQXdCaEYsTUFBekQ7QUFDRDs7QUFFRDs7O0FBR0EsV0FBU3dGLFdBQVQsR0FBdUI7QUFDckIsUUFBSUMsT0FBT2hGLFNBQVN5RSxhQUFULENBQXVCLE9BQXZCLENBQVg7QUFDQSxRQUFJUSxhQUFhakYsU0FBU2tGLGdCQUFULENBQTBCLGVBQTFCLENBQWpCO0FBQ0EsUUFBSUMsWUFBWW5GLFNBQVNrRixnQkFBVCxDQUEwQixvQkFBMUIsQ0FBaEI7QUFDQSxRQUFJRSwyQkFBMkJwRixTQUFTeUUsYUFBVCxDQUF1Qix5QkFBdkIsQ0FBL0I7O0FBRUE7Ozs7QUFJQSxhQUFTWSxZQUFULENBQXNCQyxHQUF0QixFQUEyQjtBQUN6QkEsVUFBSXhELGNBQUo7QUFDQTtBQUNBLFVBQUl3RCxJQUFJQyxhQUFKLENBQWtCdEMsU0FBbEIsQ0FBNEJHLFFBQTVCLENBQXFDLG1CQUFyQyxDQUFKLEVBQStEO0FBQzdELFlBQUlvQyxrQkFBa0JGLElBQUlDLGFBQUosQ0FBa0JqQyxZQUFsQixDQUErQixhQUEvQixDQUF0QjtBQUNBZ0IscUNBQTZCa0IsZUFBN0I7QUFDRDtBQUNEO0FBQ0FSLFdBQUsvQixTQUFMLENBQWVDLE1BQWYsQ0FBc0IsY0FBdEI7QUFDQTtBQUNBLFVBQUk4QixLQUFLL0IsU0FBTCxDQUFlRyxRQUFmLENBQXdCLGNBQXhCLENBQUosRUFBNkM7QUFDM0NnQyxpQ0FBeUJLLFNBQXpCLEdBQXFDLENBQXJDO0FBQ0Q7QUFDRjs7QUFFRCxTQUFLLElBQUlDLElBQUksQ0FBYixFQUFnQkEsSUFBSVAsVUFBVXZELE1BQTlCLEVBQXNDOEQsR0FBdEMsRUFBMkM7QUFDekNQLGdCQUFVTyxDQUFWLEVBQWFDLGdCQUFiLENBQThCLE9BQTlCLEVBQXVDTixZQUF2QyxFQUFxRCxLQUFyRDtBQUNEO0FBQ0QsU0FBSyxJQUFJTyxJQUFJLENBQWIsRUFBZ0JBLElBQUlYLFdBQVdyRCxNQUEvQixFQUF1Q2dFLEdBQXZDLEVBQTRDO0FBQzFDWCxpQkFBV1csQ0FBWCxFQUFjRCxnQkFBZCxDQUErQixPQUEvQixFQUF3Q04sWUFBeEMsRUFBc0QsS0FBdEQ7QUFDRDtBQUNGOztBQUVEO0FBQ0EsV0FBU1EsbUJBQVQsR0FBK0I7QUFDN0JDLGtCQUFjQyxJQUFkO0FBQ0FqSCxZQUFRMkQsR0FBUixDQUFZLCtCQUFaO0FBQ0Q7QUFDRDs7QUFFQTs7O0FBR0EsV0FBU3VELE1BQVQsR0FBa0I7QUFDaEI7QUFDQSxRQUFJakcsT0FBT0MsU0FBU0MsY0FBVCxDQUF3QixjQUF4QixDQUFYO0FBQ0FGLFNBQUs0RixnQkFBTCxDQUFzQixRQUF0QixFQUFnQzlELGdCQUFoQyxFQUFrRCxLQUFsRDtBQUNBL0MsWUFBUTJELEdBQVIsQ0FBWSxtQ0FBWjs7QUFFQTtBQUNBLFFBQUl3RCxVQUFVakcsU0FBU0MsY0FBVCxDQUF3QixhQUF4QixDQUFkO0FBQ0FnRyxZQUFRTixnQkFBUixDQUF5QixPQUF6QixFQUFrQzVDLFdBQWxDLEVBQStDLEtBQS9DO0FBQ0EsUUFBSW1ELGVBQWVsRyxTQUFTQyxjQUFULENBQXdCLG1CQUF4QixDQUFuQjtBQUNBaUcsaUJBQWFQLGdCQUFiLENBQThCLE9BQTlCLEVBQXVDNUMsV0FBdkMsRUFBb0QsS0FBcEQ7QUFDQSxRQUFJb0QsWUFBWW5HLFNBQVNvRyxzQkFBVCxDQUFnQyxlQUFoQyxDQUFoQjtBQUNBLFNBQUssSUFBSUMsSUFBSSxDQUFiLEVBQWdCQSxJQUFJRixVQUFVdkUsTUFBOUIsRUFBc0N5RSxHQUF0QyxFQUEyQztBQUN6Q0YsZ0JBQVVFLENBQVYsRUFBYVYsZ0JBQWIsQ0FBOEIsT0FBOUIsRUFBdUN0QyxRQUF2QyxFQUFpRCxLQUFqRDtBQUNEO0FBQ0R2RSxZQUFRMkQsR0FBUixDQUFZLHFDQUFaOztBQUVBO0FBQ0FnQix5QkFBcUJ6RSxlQUFyQjs7QUFFQTtBQUNBK0Y7O0FBRUE7QUFDQWM7QUFDRDtBQUNEN0YsV0FBUzJGLGdCQUFULENBQTBCLGtCQUExQixFQUE4Q0ssTUFBOUMsRUFBc0QsS0FBdEQ7QUFDRCxDQTVYRCIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKlxuICogIFdlYiBTdGFydGVyIEtpdFxuICogIENvcHlyaWdodCAyMDE1IEdvb2dsZSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2VcbiAqXG4gKi9cbi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQ2hlY2sgdG8gbWFrZSBzdXJlIHNlcnZpY2Ugd29ya2VycyBhcmUgc3VwcG9ydGVkIGluIHRoZSBjdXJyZW50IGJyb3dzZXIsXG4gIC8vIGFuZCB0aGF0IHRoZSBjdXJyZW50IHBhZ2UgaXMgYWNjZXNzZWQgZnJvbSBhIHNlY3VyZSBvcmlnaW4uIFVzaW5nIGFcbiAgLy8gc2VydmljZSB3b3JrZXIgZnJvbSBhbiBpbnNlY3VyZSBvcmlnaW4gd2lsbCB0cmlnZ2VyIEpTIGNvbnNvbGUgZXJyb3JzLiBTZWVcbiAgLy8gaHR0cDovL3d3dy5jaHJvbWl1bS5vcmcvSG9tZS9jaHJvbWl1bS1zZWN1cml0eS9wcmVmZXItc2VjdXJlLW9yaWdpbnMtZm9yLXBvd2VyZnVsLW5ldy1mZWF0dXJlc1xuICB2YXIgaXNMb2NhbGhvc3QgPSBCb29sZWFuKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ2xvY2FsaG9zdCcgfHxcbiAgICAgIC8vIFs6OjFdIGlzIHRoZSBJUHY2IGxvY2FsaG9zdCBhZGRyZXNzLlxuICAgICAgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSAnWzo6MV0nIHx8XG4gICAgICAvLyAxMjcuMC4wLjEvOCBpcyBjb25zaWRlcmVkIGxvY2FsaG9zdCBmb3IgSVB2NC5cbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZS5tYXRjaChcbiAgICAgICAgL14xMjcoPzpcXC4oPzoyNVswLTVdfDJbMC00XVswLTldfFswMV0/WzAtOV1bMC05XT8pKXszfSQvXG4gICAgICApXG4gICAgKTtcblxuICBpZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvciAmJlxuICAgICAgKHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHBzOicgfHwgaXNMb2NhbGhvc3QpKSB7XG4gICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJ3NlcnZpY2Utd29ya2VyLmpzJylcbiAgICAudGhlbihmdW5jdGlvbihyZWdpc3RyYXRpb24pIHtcbiAgICAgIC8vIHVwZGF0ZWZvdW5kIGlzIGZpcmVkIGlmIHNlcnZpY2Utd29ya2VyLmpzIGNoYW5nZXMuXG4gICAgICByZWdpc3RyYXRpb24ub251cGRhdGVmb3VuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyB1cGRhdGVmb3VuZCBpcyBhbHNvIGZpcmVkIHRoZSB2ZXJ5IGZpcnN0IHRpbWUgdGhlIFNXIGlzIGluc3RhbGxlZCxcbiAgICAgICAgLy8gYW5kIHRoZXJlJ3Mgbm8gbmVlZCB0byBwcm9tcHQgZm9yIGEgcmVsb2FkIGF0IHRoYXQgcG9pbnQuXG4gICAgICAgIC8vIFNvIGNoZWNrIGhlcmUgdG8gc2VlIGlmIHRoZSBwYWdlIGlzIGFscmVhZHkgY29udHJvbGxlZCxcbiAgICAgICAgLy8gaS5lLiB3aGV0aGVyIHRoZXJlJ3MgYW4gZXhpc3Rpbmcgc2VydmljZSB3b3JrZXIuXG4gICAgICAgIGlmIChuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5jb250cm9sbGVyKSB7XG4gICAgICAgICAgLy8gVGhlIHVwZGF0ZWZvdW5kIGV2ZW50IGltcGxpZXMgdGhhdCByZWdpc3RyYXRpb24uaW5zdGFsbGluZyBpcyBzZXQ6XG4gICAgICAgICAgLy8gaHR0cHM6Ly9zbGlnaHRseW9mZi5naXRodWIuaW8vU2VydmljZVdvcmtlci9zcGVjL3NlcnZpY2Vfd29ya2VyL2luZGV4Lmh0bWxcbiAgICAgICAgICB2YXIgaW5zdGFsbGluZ1dvcmtlciA9IHJlZ2lzdHJhdGlvbi5pbnN0YWxsaW5nO1xuXG4gICAgICAgICAgaW5zdGFsbGluZ1dvcmtlci5vbnN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGluc3RhbGxpbmdXb3JrZXIuc3RhdGUpIHtcbiAgICAgICAgICAgICAgY2FzZSAnaW5zdGFsbGVkJzpcbiAgICAgICAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCB0aGUgb2xkIGNvbnRlbnQgd2lsbCBoYXZlIGJlZW4gcHVyZ2VkIGFuZCB0aGVcbiAgICAgICAgICAgICAgICAvLyBmcmVzaCBjb250ZW50IHdpbGwgaGF2ZSBiZWVuIGFkZGVkIHRvIHRoZSBjYWNoZS5cbiAgICAgICAgICAgICAgICAvLyBJdCdzIHRoZSBwZXJmZWN0IHRpbWUgdG8gZGlzcGxheSBhIFwiTmV3IGNvbnRlbnQgaXNcbiAgICAgICAgICAgICAgICAvLyBhdmFpbGFibGU7IHBsZWFzZSByZWZyZXNoLlwiIG1lc3NhZ2UgaW4gdGhlIHBhZ2UncyBpbnRlcmZhY2UuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAncmVkdW5kYW50JzpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBpbnN0YWxsaW5nICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2VydmljZSB3b3JrZXIgYmVjYW1lIHJlZHVuZGFudC4nKTtcblxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vIElnbm9yZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24oZSkge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZHVyaW5nIHNlcnZpY2Ugd29ya2VyIHJlZ2lzdHJhdGlvbjonLCBlKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAqXG4gICpcbiAgKlxuICAqIEN1c3RvbSBKYXZhU2NyaXB0XG4gICpcbiAgKlxuICAqXG4gICoqL1xuXG4gIHZhciBQT1JURk9MSU9fSVRFTVMgPSBbXG4gICAge1xuICAgICAgbmFtZTogJ3Rlc3QnLFxuICAgICAgcHJldmlld1RleHQ6ICdFbGl0IGZyaW5naWxsYSBydXRydW0uIEFlbmVhbiBzb2xsaWNpdHVkaW4sIGVyYXQgYSBlbGVtZW50dW0gcnV0cnVtLCBuZXF1ZSBzZW0gcHJldGl1bSBtZXR1cywgcXVpcyBtb2xsaXMgbmlzbCBudW5jIGV0IG1hc3NhLiBWZXN0aWJ1bHVtIHNlZCBtZXR1cyBpbiBsb3JlbSB0cmlzdGlxdWUgdWxsYW1jb3JwZXIgaWQgdml0YWUgZXJhdC4nLFxuICAgICAgcHJldmlld0ltYWdlOiAnLi9pbWFnZXMvcG9ydGZvbGlvX2l0ZW1zLzEuanBnJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnZGVzY3JpcHRpb24nLFxuICAgICAgaW1hZ2VzOiBbJy4vaW1hZ2VzL3BvcnRmb2xpb19pdGVtcy8xLmpwZyddLFxuICAgICAgdG9vbHM6IFsnc2tldGNoJywgJ21haWxpbmdIdG1sJywgJ3Nwb3RpZnknXSxcbiAgICAgIGxpdmVBdDogJ2dvb2dsZS5jb20nXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAndGVzdCAyJyxcbiAgICAgIHByZXZpZXdUZXh0OiAnVmVzdGlidWx1bSBzZWQgbWV0dXMgaW4gbG9yZW0gdHJpc3RpcXVlIHVsbGFtY29ycGVyIGlkIHZpdGFlIGVyYXQuJyxcbiAgICAgIHByZXZpZXdJbWFnZTogJy4vaW1hZ2VzL3BvcnRmb2xpb19pdGVtcy8yLmpwZycsXG4gICAgICBkZXNjcmlwdGlvbjogJ2Rlc2NyaXB0aW9uIDInLFxuICAgICAgaW1hZ2VzOiBbJy4vaW1hZ2VzL3BvcnRmb2xpb19pdGVtcy8yLmpwZycsICcuL2ltYWdlcy9wb3J0Zm9saW9faXRlbXMvMS5qcGcnXSxcbiAgICAgIHRvb2xzOiBbJ3NrZXRjaCcsICdtYWlsaW5nSHRtbCddLFxuICAgICAgbGl2ZUF0OiAnZmFjZWJvb2suY29tJ1xuICAgIH1cbiAgXTtcblxuICB2YXIgVE9PTFMgPSB7XG4gICAgc2tldGNoOiB7XG4gICAgICBuYW1lOiAnU2tldGNoJyxcbiAgICAgIGljb246ICcuL2ltYWdlcy90b29sLXNrZXRjaC5wbmcnXG4gICAgfSxcbiAgICBtYWlsaW5nSHRtbDoge1xuICAgICAgbmFtZTogJ0UtbWFpbGluZyBIVE1MJyxcbiAgICAgIGljb246ICcuL2ltYWdlcy90b29sLXRlbXBsYXRlLnBuZydcbiAgICB9LFxuICAgIHNwb3RpZnk6IHtcbiAgICAgIG5hbWU6ICdTcG90aWZ5JyxcbiAgICAgIGljb246ICcuL2ltYWdlcy90b29sLXNwb3RpZnkucG5nJ1xuICAgIH1cbiAgfTtcblxuICB2YXIgQU5JTUFUSU9OID0gJzI2MCBhbmltYXRpb25fX2ZhZGUtaW4tdXAgYW5pbWF0aW9uX19vdXQgb25jZSc7XG5cbiAgLyoqXG4gICogR2V0cyBjb250YWN0IGZvcm0gaW5wdXQgdmFsdWVzXG4gICogQHJldHVybiB7b2JqZWN0fSBzZXQgb2YgaW5wdXRzIC0+IG9iamVjdFtpbnB1dF9uYW1lXSA9IGlucHV0X3ZhbHVlXG4gICovXG4gIGZ1bmN0aW9uIGdldEZvcm1EYXRhKCkge1xuICAgIHZhciBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhY3RfZm9ybScpO1xuICAgIC8vIGdldCBmb3JtIGlucHV0cyBkYXRhXG4gICAgdmFyIGRhdGEgPSB7fTtcbiAgICBPYmplY3Qua2V5cyhmb3JtLmVsZW1lbnRzKS5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICBpZiAoaXNOYU4oa2V5KSkge1xuICAgICAgICBkYXRhW2tleV0gPSBmb3JtLmVsZW1lbnRzW2tleV0udmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICAvKipcbiAgKiBFbWFpbCB2YWxpZGF0aW9uIHJlZ2V4cFxuICAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbCBmb3IgdmFsaWRhdGlvblxuICAqIEByZXR1cm4ge2Jvb2xlYW59IGVtYWlsIHZhbGlkYXRpb24gcmVzdWx0XG4gICovXG4gIGZ1bmN0aW9uIGVtYWlsVmFsaWQoZW1haWwpIHtcbiAgICB2YXIgcmUgPSAvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKSopfChcXFwiLitcXFwiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFxdKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcbiAgICByZXR1cm4gIXJlLnRlc3QoZW1haWwpO1xuICB9XG5cbiAgLyoqXG4gICogRm9ybSBzdGF0ZSAtIGxvYWRpbmdcbiAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgRE9NIGZvcm0gZXZlbnRcbiAgKiBAcmV0dXJuIHtib29sZWFufSBpcyBsb2FkaW5nPyB0cnVlXG4gICovXG4gIGZ1bmN0aW9uIGZvcm1Mb2FkaW5nKGV2ZW50KSB7XG4gICAgLy8gbWFrZSB2aXN1YWwgY2hhbmdlIGZvciBsb2FkaW5nIHN0YXRlXG4gICAgZXZlbnQudGFyZ2V0LmNoaWxkcmVuLmNvbnRhY3RfZm9ybV9fc3VibWl0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICBldmVudC50YXJnZXQuY2hpbGRyZW4uY29udGFjdF9mb3JtX19zdWJtaXQuaW5uZXJIVE1MID0gJ1d5c3nFgmFuaWUuLi4nO1xuICAgIGV2ZW50LnRhcmdldC5jaGlsZHJlbi5jb250YWN0X2Zvcm1fX3N1Ym1pdC5jbGFzc05hbWUgKz0gJyBidXR0b24tLWxvYWRpbmcnO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtX19lcnJvcicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvKipcbiAgKiBGb3JtIGxvYWRpbmcgc3RhdGUgLSByZXNldFxuICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCBET00gZm9ybSBldmVudFxuICAqIEByZXR1cm4ge2Jvb2xlYW59IGlzIGxvYWRpbmc/IGZhbHNlXG4gICovXG4gIGZ1bmN0aW9uIGZvcm1Mb2FkaW5nUmVzZXQoZXZlbnQpIHtcbiAgICAvLyBtYWtlIHZpc3VhbCBjaGFuZ2UgZm9yIGxvYWRpbmcgc3RhdGVcbiAgICBldmVudC50YXJnZXQuY2hpbGRyZW4uY29udGFjdF9mb3JtX19zdWJtaXQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICBldmVudC50YXJnZXQuY2hpbGRyZW4uY29udGFjdF9mb3JtX19zdWJtaXQuaW5uZXJIVE1MID0gJ1d5xZtsaWonO1xuICAgIGV2ZW50LnRhcmdldC5jaGlsZHJlbi5jb250YWN0X2Zvcm1fX3N1Ym1pdC5jbGFzc05hbWUgPSAnYnV0dG9uIGJ1dHRvbi0tcHJpbWFyeSc7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICogRGV0ZWN0cyBlbXB0eSBpbnB1dHMgaW4gZm9ybVxuICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCBET00gZm9ybSBldmVudFxuICAqIEByZXR1cm4ge2Jvb2xlYW59IGV2ZXJ5IGZvcm0gaW5wdXRzIGZpbGxlZD9cbiAgKi9cbiAgZnVuY3Rpb24gaW5wdXRzRmlsbGVkKGV2ZW50KSB7XG4gICAgdmFyIGZpbGxlZCA9IHRydWU7XG4gICAgaWYgKGV2ZW50LnRhcmdldC5tZXNzYWdlLnZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZmlsbGVkID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChldmVudC50YXJnZXQubmFtZS52YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIGZpbGxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZXZlbnQudGFyZ2V0LmVtYWlsLnZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZmlsbGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZpbGxlZDtcbiAgfVxuXG4gIC8qKlxuICAqIFNlbmQgZm9ybSBkYXRhXG4gICogQHBhcmFtIHtPYmplY3R9IGV2ZW50IERPTSBldmVudFxuICAqL1xuICBmdW5jdGlvbiBoYW5kbGVGb3JtU3VibWl0KGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgZGF0YSA9IGdldEZvcm1EYXRhKCk7XG4gICAgdmFyIGlzTG9hZGluZyA9IGZhbHNlO1xuICAgIHZhciBhbGxJbnB1dHNGaWxsZWQgPSBpbnB1dHNGaWxsZWQoZXZlbnQpO1xuXG4gICAgLy8gVkFMSURBVElPTlxuICAgIGlmIChpc0xvYWRpbmcgfHwgIWFsbElucHV0c0ZpbGxlZCkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm1fX2Vycm9yJykuaW5uZXJIVE1MID0gJ1V6dXBlxYJuaWogd3N6eXN0a2llIHBvbGEgZm9ybXVsYXJ6YSc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybV9fZXJyb3InKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9IGVsc2UgaWYgKGVtYWlsVmFsaWQoZGF0YS5lbWFpbCkpIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtX19lcnJvcicpLmlubmVySFRNTCA9ICdXcGlzeiBwcmF3aWTFgm93eSBhZHJlcyBlLW1haWwnO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm1fX2Vycm9yJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFZBTElEQVRJT04gUEFTU0VEXG4gICAgICBpc0xvYWRpbmcgPSBmb3JtTG9hZGluZyhldmVudCk7XG4gICAgICB2YXIgdXJsID0gZXZlbnQudGFyZ2V0LmFjdGlvbjtcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgIHhoci5vcGVuKCdQT1NUJywgdXJsKTtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7XG4gICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlzTG9hZGluZyA9IGZvcm1Mb2FkaW5nUmVzZXQoZXZlbnQpO1xuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhY3RfZm9ybScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RoYW5reW91X21lc3NhZ2UnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybV9fZXJyb3InKS5pbm5lckhUTUwgPSAnQ2/FmyBwb3N6xYJvIG5pZSB0YWsgOiggPGJyIC8+IFd5xZtsaWogcHJvc3rEmSBlLW1haWwgbmEgYWRyZXM6IDxhIGhyZWY9XCJtYWlsdG86d2Fza293c2tpLm1pa29sYWpAZ21haWwuY29tXCI+d2Fza293c2tpLm1pa29sYWpAZ21haWwuY29tPC9hPi4gPGJyIC8+IER6acSZa3VqxJkhJztcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybV9fZXJyb3InKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICBjb25zb2xlLmxvZyh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIC8vIHVybCBlbmNvZGUgZm9ybSBkYXRhIGZvciBzZW5kaW5nIGFzIHBvc3QgZGF0YVxuICAgICAgdmFyIGVuY29kZWQgPSBPYmplY3Qua2V5cyhkYXRhKS5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChkYXRhW2tleV0pO1xuICAgICAgfSkuam9pbignJicpO1xuXG4gICAgICB4aHIuc2VuZChlbmNvZGVkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgKiBBY3RpdmF0aW5nIG92ZXJsYXkgbWVudVxuICAqL1xuICBmdW5jdGlvbiBtZW51VHJpZ2dlcigpIHtcbiAgICB2YXIgb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVybGF5Jyk7XG4gICAgb3ZlcmxheS5jbGFzc0xpc3QudG9nZ2xlKCdtZW51LW92ZXJsYXktLW9wZW4nKTtcbiAgfVxuXG4gIC8qKlxuICAqIENoZWNrIHRoYXQgbWVudSBpcyBvcGVuZWQgKG92ZXJsYXkgaXMgYWN0aXZlKVxuICAqIEByZXR1cm4ge2Jvb2xlYW59IE1lbnUgYWN0aXZlP1xuICAqL1xuICBmdW5jdGlvbiBvdmVybGF5QWN0aXZlKCkge1xuICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheScpLmNsYXNzTGlzdC5jb250YWlucygnbWVudS1vdmVybGF5LS1vcGVuJyk7XG4gIH1cblxuICAvKipcbiAgKiBTY3JvbGxzIHRvIGVsZW1lbnQsIGNsb3NpbmcgbWVudSBvdmVybGF5IGlmIG5lZWRlZFxuICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCBET00gZXZlbnRcbiAgKi9cbiAgZnVuY3Rpb24gc2Nyb2xsVG8oZXZlbnQpIHtcbiAgICAvLyBnb3RvIHNlY3Rpb24gbWFya2VkIGFzIGJ1dHRvbiBkYXRhLWdvdG8gYXR0cmlidXRlXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1nb3RvJykpLnNjcm9sbEludG9WaWV3KHtcbiAgICAgIC8vIHdvcmtzIG9ubHkgZm9yIEZpcmVmb3guLi4gOihcbiAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICAgIH0pO1xuICAgIC8vIG5lZWQgdG8gY2xvc2UgbWVudSBvdmVybGF5P1xuICAgIGlmIChvdmVybGF5QWN0aXZlKCkpIHtcbiAgICAgIG1lbnVUcmlnZ2VyKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICogRmlsbCBwb3J0Zm9saW8gd2l0aCBQb3J0Zm9saW9faXRlbXNcbiAgKiBAcGFyYW0ge0FycmF5fSBpdGVtcyAtIGFycmF5IG9mIHBvcnRmb2xpbyBpdGVtc1xuICAqL1xuICBmdW5jdGlvbiBpbnNlcnRQb3J0b2ZsaW9JdGVtcyhpdGVtcykge1xuICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9ydGZvbGlvX2l0ZW1zX2NvbnRhaW5lcicpO1xuICAgIGl0ZW1zLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCwgaW5kZXgpIHtcbiAgICAgIC8vIGNyZWF0ZSBtYWluIGNvbnRhaW5lclxuICAgICAgdmFyIHNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWN0aW9uJyk7XG4gICAgICBzZWN0aW9uLmNsYXNzTmFtZSArPSAnIGNvbnRhaW5lciBzZWN0aW9uIHNlY3Rpb24tLWxlZnQgc2VjdGlvbi0tcG9ydGZvbGlvLWl0ZW0gJztcbiAgICAgIC8vIGNyZWF0ZSBib3ggZm9yIGl0ZW0gcHJldmlld1xuICAgICAgdmFyIHNlY3Rpb25NZWRpYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgc2VjdGlvbk1lZGlhLmNsYXNzTmFtZSArPSAnIHNlY3Rpb25fX21lZGlhIHNlY3Rpb25fX21lZGlhLS1wb3J0Zm9saW8taXRlbSAnO1xuICAgICAgc2VjdGlvbk1lZGlhLmlubmVySFRNTCA9ICc8aW1nIHNyYz1cIicgKyBlbGVtZW50LnByZXZpZXdJbWFnZSArICdcIiBhbHQ9XCJwb3J0Zm9saW9faXRlbVwiIGNsYXNzPVwiYnV0dG9uLS1zaG93LW1vcmVcIiBkYXRhLWl0ZW1pZD1cIicgKyBpbmRleCArICdcIiAvPic7XG4gICAgICAvLyBjcmVhdGUgYm94IGZvciBpdGVtIG5hbWUgYW5kIGRlc2NyaXB0aW9uXG4gICAgICB2YXIgc2VjdGlvblRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHNlY3Rpb25UZXh0LmRhdGFzZXQuc2Nyb2xsID0gQU5JTUFUSU9OO1xuICAgICAgc2VjdGlvblRleHQuY2xhc3NOYW1lICs9ICcgc2VjdGlvbl9fdGV4dCBzZWN0aW9uX190ZXh0LS1wb3J0Zm9saW8taXRlbSAnO1xuICAgICAgc2VjdGlvblRleHQuaW5uZXJIVE1MID0gJzxoMyBjbGFzcz1cInNlY3Rpb25fX3RpdGxlXCI+JyArIGVsZW1lbnQubmFtZSArICc8L2gzPic7XG4gICAgICBzZWN0aW9uVGV4dC5pbm5lckhUTUwgKz0gJzxwPicgKyBlbGVtZW50LnByZXZpZXdUZXh0ICsgJzwvcD4nO1xuICAgICAgc2VjdGlvblRleHQuaW5uZXJIVE1MICs9ICc8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGJ1dHRvbi0tdGV4dCBidXR0b24tLWdyZWVuIGJ1dHRvbi0tc2hvdy1tb3JlXCIgZGF0YS1pdGVtaWQ9XCInICsgaW5kZXggKyAnXCI+PGltZyBzcmM9XCIuL2ltYWdlcy9pY29uLWluZm8uc3ZnXCIgYWx0PVwiXCIgY2xhc3M9XCJidXR0b25fX2ljb24tLWxlZnRcIiAvPiBab2JhY3ogc3pjemVnw7PFgnk8L2J1dHRvbj4nO1xuICAgICAgc2VjdGlvbi5hcHBlbmRDaGlsZChzZWN0aW9uTWVkaWEpO1xuICAgICAgc2VjdGlvbi5hcHBlbmRDaGlsZChzZWN0aW9uVGV4dCk7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbik7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgKiBGaWxsIHBvcnRmb2xpbyBpdGVtIGRlc2NyaXB0aW9uIHdpdGggZGF0YVxuICAqIEBwYXJhbSB7TnVtYmVyfSBpdGVtSWQgLSBpZCBvZiBwb3J0Zm9saW8gaXRlbVxuICAqL1xuICBmdW5jdGlvbiBmaWxsUG9ydGZvbGlvSXRlbURlc2NyaXB0aW9uKGl0ZW1JZCkge1xuICAgIHZhciBpdGVtTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3J0Zm9saW9fX2l0ZW0tbmFtZScpO1xuICAgIHZhciBpdGVtRGVzY3JwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3J0Zm9saW9fX2l0ZW0tZGVzY3JpcHRpb24nKTtcbiAgICB2YXIgaW1hZ2VzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcnRmb2xpb19faW1hZ2VzJyk7XG4gICAgdmFyIHRvb2xzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvb2xzJyk7XG4gICAgdmFyIGxpdmVBdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3J0Zm9saW9fX2xpdmUtYXQnKTtcbiAgICB2YXIgZXh0ZXJuYWxMaW5rQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbi0tbGl2ZS1hdCcpO1xuXG4gICAgaXRlbU5hbWUuaW5uZXJIVE1MID0gUE9SVEZPTElPX0lURU1TW2l0ZW1JZF0ubmFtZTtcbiAgICBpdGVtRGVzY3JwdGlvbi5pbm5lckhUTUwgPSBQT1JURk9MSU9fSVRFTVNbaXRlbUlkXS5kZXNjcmlwdGlvbjtcbiAgICAvLyBjbGVhciBpbWFnZXMgY29udGFpbmVyIGZyb20gb2xkIGltYWdlc1xuICAgIGltYWdlc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAvLyBmaWxsIGltYWdlcyBjb250YWluZXIgd2l0aCBuZXcgaW1hZ2VzXG4gICAgUE9SVEZPTElPX0lURU1TW2l0ZW1JZF0uaW1hZ2VzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCwgaW5kZXgpIHtcbiAgICAgIGltYWdlc0NvbnRhaW5lci5pbm5lckhUTUwgKz0gJzxpbWcgc3JjPVwiJyArIGVsZW1lbnQgKyAnXCIgYWx0PVwiJyArIFBPUlRGT0xJT19JVEVNU1tpdGVtSWRdLm5hbWUgKyAnIC0gIycgKyBpbmRleCArICcgcHJlc2VudGF0aW9uIGltYWdlXCIgY2xhc3M9XCJwb3J0Zm9saW9fX2ltYWdlXCIgLz4gJztcbiAgICB9KTtcbiAgICB0b29sc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICBQT1JURk9MSU9fSVRFTVNbaXRlbUlkXS50b29scy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHRvb2xzQ29udGFpbmVyLmlubmVySFRNTCArPSAnPGRpdiBjbGFzcz1cInRvb2xzX2l0ZW1cIj48aW1nIHNyYz1cIicgKyBUT09MU1tlbGVtZW50XS5pY29uICsgJ1wiIGFsdD1cIlwiIGNsYXNzPVwiXCI+PHA+JyArIFRPT0xTW2VsZW1lbnRdLm5hbWUgKyAnPC9wPjwvZGl2Pic7XG4gICAgfSk7XG4gICAgbGl2ZUF0LmlubmVySFRNTCA9ICc8cD4nICsgUE9SVEZPTElPX0lURU1TW2l0ZW1JZF0ubGl2ZUF0ICsgJzwvcD4nO1xuICAgIGV4dGVybmFsTGlua0J1dHRvbi5ocmVmID0gJy8vJyArIFBPUlRGT0xJT19JVEVNU1tpdGVtSWRdLmxpdmVBdDtcbiAgfVxuXG4gIC8qKlxuICAqIE1ha2UgcG9ydGZvbGlvIGl0ZW0gYWxpdmVcbiAgKiovXG4gIGZ1bmN0aW9uIHZpZXdDaGFuZ2VyKCkge1xuICAgIHZhciB2aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZpZXcnKTtcbiAgICB2YXIgYmFja0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5idXR0b24tLWJhY2snKTtcbiAgICB2YXIgbGlzdEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJ1dHRvbi0tc2hvdy1tb3JlJyk7XG4gICAgdmFyIHBvcnRmb2xpb0Rlc2NyaXB0aW9uVmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY3JlZW4tLXBvcnRmb2xpby1pdGVtJyk7XG5cbiAgICAvKipcbiAgICAqIFdoaWxlIGNsaWNraW5nIFwiU2hvdyBtb3JlXCIsIGFjdGl2YXRlIGRlc2NyaXB0aW9uIHZpZXcgYW5kIGZpbGwgaXQgd2l0aCBkYXRhXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZXZ0IC0gYnV0dG9uIGNsaWNrIGV2ZW50XG4gICAgKiovXG4gICAgZnVuY3Rpb24gb25WaWV3Q2hhbmdlKGV2dCkge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAvLyBjaGFuZ2UgZGV0YWlscyBkYXRhXG4gICAgICBpZiAoZXZ0LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdidXR0b24tLXNob3ctbW9yZScpKSB7XG4gICAgICAgIHZhciBwb3J0Zm9saW9JdGVtSWQgPSBldnQuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaXRlbWlkJyk7XG4gICAgICAgIGZpbGxQb3J0Zm9saW9JdGVtRGVzY3JpcHRpb24ocG9ydGZvbGlvSXRlbUlkKTtcbiAgICAgIH1cbiAgICAgIC8vIGNoYW5nZSB2aWV3IC0gYWRkIFwiYWN0aXZlXCIgY2xhc3MgdG8gbWFpbiB2aWV3IGNvbnRhaW5lclxuICAgICAgdmlldy5jbGFzc0xpc3QudG9nZ2xlKCd2aWV3LS1jaGFuZ2UnKTtcbiAgICAgIC8vIGdvIHRvIHRoZSB0b3Agb2YgcG9ydGZvbGlvIGl0ZW0gZGVzY3JpcHRpb24gY29udGFpbmVyIHdoaWxlIFwic2hvdyBtb3JlXCIgZXZlbnRcbiAgICAgIGlmICh2aWV3LmNsYXNzTGlzdC5jb250YWlucygndmlldy0tY2hhbmdlJykpIHtcbiAgICAgICAgcG9ydGZvbGlvRGVzY3JpcHRpb25WaWV3LnNjcm9sbFRvcCA9IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaXN0SXRlbXMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGxpc3RJdGVtc1tqXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uVmlld0NoYW5nZSwgZmFsc2UpO1xuICAgIH1cbiAgICBmb3IgKHZhciBrID0gMDsgayA8IGJhY2tCdXR0b24ubGVuZ3RoOyBrKyspIHtcbiAgICAgIGJhY2tCdXR0b25ba10uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvblZpZXdDaGFuZ2UsIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICAvKmVzbGludC1kaXNhYmxlICovXG4gIGZ1bmN0aW9uIHJ1blNjcm9sbEFuaW1hdGlvbnMoKSB7XG4gICAgU2Nyb2xsVHJpZ2dlci5pbml0KCk7XG4gICAgY29uc29sZS5sb2coJ0luZm86IFNjcm9sbFRyaWdnZXIgYWN0aXZhdGVkJyk7XG4gIH1cbiAgLyplc2xpbnQtZW5hYmxlICovXG5cbiAgLyoqXG4gICogUnVucyB3aGlsZSBkb2N1bWVudCBpcyBsb2FkZWQuLi5cbiAgKi9cbiAgZnVuY3Rpb24gbG9hZGVkKCkge1xuICAgIC8vIHByZXZlbnQgZGVmYXVsdCBzdWJtaXQgZm9ybSBhY3Rpb24sIHJlZGlyZWN0IHRvIGhhbmRsZUZvcm1TdWJtaXQoKVxuICAgIHZhciBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhY3RfZm9ybScpO1xuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgaGFuZGxlRm9ybVN1Ym1pdCwgZmFsc2UpO1xuICAgIGNvbnNvbGUubG9nKCdJbmZvOiBmb3JtIHN1Ym1pdCBmdW5jdGlvbiBsb2FkZWQnKTtcblxuICAgIC8vIG1ha2UgaW50ZXJuYWwgYnV0dG9ucyBhbGl2ZVxuICAgIHZhciBtZW51QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUtYnV0dG9uJyk7XG4gICAgbWVudUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG1lbnVUcmlnZ2VyLCBmYWxzZSk7XG4gICAgdmFyIG1lbnVCdG5DbG9zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51LWJ1dHRvbi1jbG9zZScpO1xuICAgIG1lbnVCdG5DbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG1lbnVUcmlnZ2VyLCBmYWxzZSk7XG4gICAgdmFyIG1lbnVMaW5rcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2ludGVybmFsLWxpbmsnKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lbnVMaW5rcy5sZW5ndGg7IGkrKykge1xuICAgICAgbWVudUxpbmtzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2Nyb2xsVG8sIGZhbHNlKTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coJ0luZm86IG1lbnUgdHJpZ2dlciBmdW5jdGlvbnMgbG9hZGVkJyk7XG5cbiAgICAvLyBjcmVhdGUgcG9ydGZvbGlvIGl0ZW1zXG4gICAgaW5zZXJ0UG9ydG9mbGlvSXRlbXMoUE9SVEZPTElPX0lURU1TKTtcblxuICAgIC8vIG1ha2UgcG9ydG9mbGlvIGl0ZW0gYWxpdmVcbiAgICB2aWV3Q2hhbmdlcigpO1xuXG4gICAgLy8gc2Nyb2xsIGFuaW1hdGlvbnNcbiAgICBydW5TY3JvbGxBbmltYXRpb25zKCk7XG4gIH1cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGxvYWRlZCwgZmFsc2UpO1xufSkoKTtcbiJdfQ==\n\n\"use strict\"; /* Written by Erik Terwan - MIT license - https://github.com/terwanerik */\n!function () {\"use strict\";var n = function n() {function n() {for (var r = o.scrollElement.innerHeight, c = o.bindElement.scrollTop, a = 0; a < t.length; a++) {var d = t[a],m = d.getBoundingClientRect().top,u = d.getAttribute(\"data-scroll\"),h = u.split(\" \"),w = parseInt(void 0 != h[0] ? h[0] : 0),f = void 0 != h[1] ? h[1] : \"visible\",v = void 0 != h[2] ? h[2] : \"invisible\",b = u.indexOf(\"addHeight\") > -1,g = u.indexOf(\"once\") > -1;b && (m += d.offsetHeight), i > c ? m -= w : m += w, r > m && m >= 0 ? (d.classList.contains(f) || d.classList.add(f), d.classList.contains(v) && d.classList.remove(v), g && t.splice(a, 1)) : (d.classList.contains(v) || d.classList.add(v), d.classList.contains(f) && d.classList.remove(f));}for (var E = 0; E < e.length; E++) {var p = e[E];p.call(o, r, o.bindElement.scrollTop);}i = c, t.length > 0 || e.length > 0 ? (s = !0, l(n)) : s = !1;}this.scrollElement = window, this.bindElement = document.body;var t = [],e = [],i = 0,l = window.requestAnimationFrame,s = !0;this.init = function (e) {return function (o, r) {return void 0 != o && null != o ? e.bindElement = o : e.bindElement = document.body, void 0 != r && null != r ? e.scrollElement = r : e.scrollElement = window, t = [].slice.call(e.bindElement.querySelectorAll(\"[data-scroll]\")), l = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame || e.scrollElement.onscroll, i = e.bindElement.scrollTop, t.length > 0 ? (s = !0, n()) : s = !1, e;};}(this), this.attach = function (t) {return function (i) {return e.push(i), s || (s = !0, n()), t;};}(this), this.detach = function (n) {return function (t) {return e.splice(e.indexOf(t), 1), n;};}(this);var o = this;};window.ScrollTrigger = new n();}();\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcm9sbHRyaWdnZXIubWluLmpzIl0sIm5hbWVzIjpbIm4iLCJyIiwibyIsInNjcm9sbEVsZW1lbnQiLCJpbm5lckhlaWdodCIsImMiLCJiaW5kRWxlbWVudCIsInNjcm9sbFRvcCIsImEiLCJ0IiwibGVuZ3RoIiwiZCIsIm0iLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJ1IiwiZ2V0QXR0cmlidXRlIiwiaCIsInNwbGl0IiwidyIsInBhcnNlSW50IiwiZiIsInYiLCJiIiwiaW5kZXhPZiIsImciLCJvZmZzZXRIZWlnaHQiLCJpIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJhZGQiLCJyZW1vdmUiLCJzcGxpY2UiLCJFIiwiZSIsInAiLCJjYWxsIiwicyIsImwiLCJ3aW5kb3ciLCJkb2N1bWVudCIsImJvZHkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJpbml0Iiwic2xpY2UiLCJxdWVyeVNlbGVjdG9yQWxsIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJvUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwib25zY3JvbGwiLCJhdHRhY2giLCJwdXNoIiwiZGV0YWNoIiwiU2Nyb2xsVHJpZ2dlciJdLCJtYXBwaW5ncyI6ImNBQUE7QUFDQSxDQUFDLFlBQVUsQ0FBQyxhQUFhLElBQUlBLElBQUUsYUFBVSxDQUFDLFNBQVNBLENBQVQsR0FBWSxDQUFDLEtBQUksSUFBSUMsSUFBRUMsRUFBRUMsYUFBRixDQUFnQkMsV0FBdEIsRUFBa0NDLElBQUVILEVBQUVJLFdBQUYsQ0FBY0MsU0FBbEQsRUFBNERDLElBQUUsQ0FBbEUsRUFBb0VBLElBQUVDLEVBQUVDLE1BQXhFLEVBQStFRixHQUEvRSxFQUFtRixDQUFDLElBQUlHLElBQUVGLEVBQUVELENBQUYsQ0FBTixDQUFXSSxJQUFFRCxFQUFFRSxxQkFBRixHQUEwQkMsR0FBdkMsQ0FBMkNDLElBQUVK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IjpbIi8qIFdyaXR0ZW4gYnkgRXJpayBUZXJ3YW4gLSBNSVQgbGljZW5zZSAtIGh0dHBzOi8vZ2l0aHViLmNvbS90ZXJ3YW5lcmlrICovXG4hZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oKXtmb3IodmFyIHI9by5zY3JvbGxFbGVtZW50LmlubmVySGVpZ2h0LGM9by5iaW5kRWxlbWVudC5zY3JvbGxUb3AsYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgZD10W2FdLG09ZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AsdT1kLmdldEF0dHJpYnV0ZShcImRhdGEtc2Nyb2xsXCIpLGg9dS5zcGxpdChcIiBcIiksdz1wYXJzZUludCh2b2lkIDAhPWhbMF0/aFswXTowKSxmPXZvaWQgMCE9aFsxXT9oWzFdOlwidmlzaWJsZVwiLHY9dm9pZCAwIT1oWzJdP2hbMl06XCJpbnZpc2libGVcIixiPXUuaW5kZXhPZihcImFkZEhlaWdodFwiKT4tMSxnPXUuaW5kZXhPZihcIm9uY2VcIik+LTE7YiYmKG0rPWQub2Zmc2V0SGVpZ2h0KSxpPmM/bS09dzptKz13LHI+bSYmbT49MD8oZC5jbGFzc0xpc3QuY29udGFpbnMoZil8fGQuY2xhc3NMaXN0LmFkZChmKSxkLmNsYXNzTGlzdC5jb250YWlucyh2KSYmZC5jbGFzc0xpc3QucmVtb3ZlKHYpLGcmJnQuc3BsaWNlKGEsMSkpOihkLmNsYXNzTGlzdC5jb250YWlucyh2KXx8ZC5jbGFzc0xpc3QuYWRkKHYpLGQuY2xhc3NMaXN0LmNvbnRhaW5zKGYpJiZkLmNsYXNzTGlzdC5yZW1vdmUoZikpfWZvcih2YXIgRT0wO0U8ZS5sZW5ndGg7RSsrKXt2YXIgcD1lW0VdO3AuY2FsbChvLHIsby5iaW5kRWxlbWVudC5zY3JvbGxUb3ApfWk9Yyx0Lmxlbmd0aD4wfHxlLmxlbmd0aD4wPyhzPSEwLGwobikpOnM9ITF9dGhpcy5zY3JvbGxFbGVtZW50PXdpbmRvdyx0aGlzLmJpbmRFbGVtZW50PWRvY3VtZW50LmJvZHk7dmFyIHQ9W10sZT1bXSxpPTAsbD13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLHM9ITA7dGhpcy5pbml0PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihvLHIpe3JldHVybiB2b2lkIDAhPW8mJm51bGwhPW8/ZS5iaW5kRWxlbWVudD1vOmUuYmluZEVsZW1lbnQ9ZG9jdW1lbnQuYm9keSx2b2lkIDAhPXImJm51bGwhPXI/ZS5zY3JvbGxFbGVtZW50PXI6ZS5zY3JvbGxFbGVtZW50PXdpbmRvdyx0PVtdLnNsaWNlLmNhbGwoZS5iaW5kRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtc2Nyb2xsXVwiKSksbD13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxlLnNjcm9sbEVsZW1lbnQub25zY3JvbGwsaT1lLmJpbmRFbGVtZW50LnNjcm9sbFRvcCx0Lmxlbmd0aD4wPyhzPSEwLG4oKSk6cz0hMSxlfX0odGhpcyksdGhpcy5hdHRhY2g9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBlLnB1c2goaSksc3x8KHM9ITAsbigpKSx0fX0odGhpcyksdGhpcy5kZXRhY2g9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlLnNwbGljZShlLmluZGV4T2YodCksMSksbn19KHRoaXMpO3ZhciBvPXRoaXN9O3dpbmRvdy5TY3JvbGxUcmlnZ2VyPW5ldyBufSgpOyJdfQ==\n","/*!\n *\n *  Web Starter Kit\n *  Copyright 2015 Google Inc. All rights reserved.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *    https://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License\n *\n */\n/* eslint-env browser */\n(function() {\n  'use strict';\n\n  // Check to make sure service workers are supported in the current browser,\n  // and that the current page is accessed from a secure origin. Using a\n  // service worker from an insecure origin will trigger JS console errors. See\n  // http://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features\n  var isLocalhost = Boolean(window.location.hostname === 'localhost' ||\n      // [::1] is the IPv6 localhost address.\n      window.location.hostname === '[::1]' ||\n      // 127.0.0.1/8 is considered localhost for IPv4.\n      window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n      )\n    );\n\n  if ('serviceWorker' in navigator &&\n      (window.location.protocol === 'https:' || isLocalhost)) {\n    navigator.serviceWorker.register('service-worker.js')\n    .then(function(registration) {\n      // updatefound is fired if service-worker.js changes.\n      registration.onupdatefound = function() {\n        // updatefound is also fired the very first time the SW is installed,\n        // and there's no need to prompt for a reload at that point.\n        // So check here to see if the page is already controlled,\n        // i.e. whether there's an existing service worker.\n        if (navigator.serviceWorker.controller) {\n          // The updatefound event implies that registration.installing is set:\n          // https://slightlyoff.github.io/ServiceWorker/spec/service_worker/index.html\n          var installingWorker = registration.installing;\n\n          installingWorker.onstatechange = function() {\n            switch (installingWorker.state) {\n              case 'installed':\n                // At this point, the old content will have been purged and the\n                // fresh content will have been added to the cache.\n                // It's the perfect time to display a \"New content is\n                // available; please refresh.\" message in the page's interface.\n                break;\n\n              case 'redundant':\n                throw new Error('The installing ' +\n                                'service worker became redundant.');\n\n              default:\n                // Ignore\n            }\n          };\n        }\n      };\n    }).catch(function(e) {\n      console.error('Error during service worker registration:', e);\n    });\n  }\n\n  /**\n  *\n  *\n  *\n  * Custom JavaScript\n  *\n  *\n  *\n  **/\n\n  var PORTFOLIO_ITEMS = [\n    {\n      name: 'test',\n      previewText: 'Elit fringilla rutrum. Aenean sollicitudin, erat a elementum rutrum, neque sem pretium metus, quis mollis nisl nunc et massa. Vestibulum sed metus in lorem tristique ullamcorper id vitae erat.',\n      previewImage: './images/portfolio_items/1.jpg',\n      description: 'description',\n      images: ['./images/portfolio_items/1.jpg'],\n      tools: ['sketch', 'mailingHtml', 'spotify'],\n      liveAt: 'google.com'\n    },\n    {\n      name: 'test 2',\n      previewText: 'Vestibulum sed metus in lorem tristique ullamcorper id vitae erat.',\n      previewImage: './images/portfolio_items/2.jpg',\n      description: 'description 2',\n      images: ['./images/portfolio_items/2.jpg', './images/portfolio_items/1.jpg'],\n      tools: ['sketch', 'mailingHtml'],\n      liveAt: 'facebook.com'\n    }\n  ];\n\n  var TOOLS = {\n    sketch: {\n      name: 'Sketch',\n      icon: './images/tool-sketch.png'\n    },\n    mailingHtml: {\n      name: 'E-mailing HTML',\n      icon: './images/tool-template.png'\n    },\n    spotify: {\n      name: 'Spotify',\n      icon: './images/tool-spotify.png'\n    }\n  };\n\n  var ANIMATION = '260 animation__fade-in-up animation__out once';\n\n  /**\n  * Gets contact form input values\n  * @return {object} set of inputs -> object[input_name] = input_value\n  */\n  function getFormData() {\n    var form = document.getElementById('contact_form');\n    // get form inputs data\n    var data = {};\n    Object.keys(form.elements).map(function(key) {\n      if (isNaN(key)) {\n        data[key] = form.elements[key].value;\n      }\n    });\n    return data;\n  }\n\n  /**\n  * Email validation regexp\n  * @param {string} email for validation\n  * @return {boolean} email validation result\n  */\n  function emailValid(email) {\n    var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return !re.test(email);\n  }\n\n  /**\n  * Form state - loading\n  * @param {Object} event DOM form event\n  * @return {boolean} is loading? true\n  */\n  function formLoading(event) {\n    // make visual change for loading state\n    event.target.children.contact_form__submit.disabled = true;\n    event.target.children.contact_form__submit.innerHTML = 'Wysyłanie...';\n    event.target.children.contact_form__submit.className += ' button--loading';\n    document.getElementById('form__error').style.display = 'none';\n\n    return true;\n  }\n  /**\n  * Form loading state - reset\n  * @param {Object} event DOM form event\n  * @return {boolean} is loading? false\n  */\n  function formLoadingReset(event) {\n    // make visual change for loading state\n    event.target.children.contact_form__submit.disabled = false;\n    event.target.children.contact_form__submit.innerHTML = 'Wyślij';\n    event.target.children.contact_form__submit.className = 'button button--primary';\n\n    return false;\n  }\n  /**\n  * Detects empty inputs in form\n  * @param {Object} event DOM form event\n  * @return {boolean} every form inputs filled?\n  */\n  function inputsFilled(event) {\n    var filled = true;\n    if (event.target.message.value.length === 0) {\n      filled = false;\n    }\n    if (event.target.name.value.length === 0) {\n      filled = false;\n    }\n    if (event.target.email.value.length === 0) {\n      filled = false;\n    }\n\n    return filled;\n  }\n\n  /**\n  * Send form data\n  * @param {Object} event DOM event\n  */\n  function handleFormSubmit(event) {\n    event.preventDefault();\n    var data = getFormData();\n    var isLoading = false;\n    var allInputsFilled = inputsFilled(event);\n\n    // VALIDATION\n    if (isLoading || !allInputsFilled) {\n      document.getElementById('form__error').innerHTML = 'Uzupełnij wszystkie pola formularza';\n      document.getElementById('form__error').style.display = 'block';\n    } else if (emailValid(data.email)) {\n      document.getElementById('form__error').innerHTML = 'Wpisz prawidłowy adres e-mail';\n      document.getElementById('form__error').style.display = 'block';\n    } else {\n      // VALIDATION PASSED\n      isLoading = formLoading(event);\n      var url = event.target.action;\n      var xhr = new XMLHttpRequest();\n      xhr.open('POST', url);\n      xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n      xhr.onreadystatechange = function() {\n        isLoading = formLoadingReset(event);\n        if (xhr.status === 200) {\n          document.getElementById('contact_form').style.display = 'none';\n          document.getElementById('thankyou_message').style.display = 'block';\n        } else {\n          document.getElementById('form__error').innerHTML = 'Coś poszło nie tak :( <br /> Wyślij proszę e-mail na adres: <a href=\"mailto:waskowski.mikolaj@gmail.com\">waskowski.mikolaj@gmail.com</a>. <br /> Dziękuję!';\n          document.getElementById('form__error').style.display = 'block';\n          console.log(xhr.responseText);\n        }\n      };\n      // url encode form data for sending as post data\n      var encoded = Object.keys(data).map(function(key) {\n        return encodeURIComponent(key) + '=' + encodeURIComponent(data[key]);\n      }).join('&');\n\n      xhr.send(encoded);\n    }\n  }\n\n  /**\n  * Activating overlay menu\n  */\n  function menuTrigger() {\n    var overlay = document.getElementById('overlay');\n    overlay.classList.toggle('menu-overlay--open');\n  }\n\n  /**\n  * Check that menu is opened (overlay is active)\n  * @return {boolean} Menu active?\n  */\n  function overlayActive() {\n    return document.getElementById('overlay').classList.contains('menu-overlay--open');\n  }\n\n  /**\n  * Scrolls to element, closing menu overlay if needed\n  * @param {Object} event DOM event\n  */\n  function scrollTo(event) {\n    // goto section marked as button data-goto attribute\n    document.getElementById(event.target.getAttribute('data-goto')).scrollIntoView({\n      // works only for Firefox... :(\n      behavior: 'smooth'\n    });\n    // need to close menu overlay?\n    if (overlayActive()) {\n      menuTrigger();\n    }\n  }\n\n  /**\n  * Fill portfolio with Portfolio_items\n  * @param {Array} items - array of portfolio items\n  */\n  function insertPortoflioItems(items) {\n    var container = document.getElementById('portfolio_items_container');\n    items.forEach(function(element, index) {\n      // create main container\n      var section = document.createElement('section');\n      section.className += ' container section section--left section--portfolio-item ';\n      // create box for item preview\n      var sectionMedia = document.createElement('div');\n      sectionMedia.className += ' section__media section__media--portfolio-item ';\n      sectionMedia.innerHTML = '<img src=\"' + element.previewImage + '\" alt=\"portfolio_item\" class=\"button--show-more\" data-itemid=\"' + index + '\" />';\n      // create box for item name and description\n      var sectionText = document.createElement('div');\n      sectionText.dataset.scroll = ANIMATION;\n      sectionText.className += ' section__text section__text--portfolio-item ';\n      sectionText.innerHTML = '<h3 class=\"section__title\">' + element.name + '</h3>';\n      sectionText.innerHTML += '<p>' + element.previewText + '</p>';\n      sectionText.innerHTML += '<button class=\"button button--text button--green button--show-more\" data-itemid=\"' + index + '\"><img src=\"./images/icon-info.svg\" alt=\"\" class=\"button__icon--left\" /> Zobacz szczegóły</button>';\n      section.appendChild(sectionMedia);\n      section.appendChild(sectionText);\n      container.appendChild(section);\n    });\n  }\n\n  /**\n  * Fill portfolio item description with data\n  * @param {Number} itemId - id of portfolio item\n  */\n  function fillPortfolioItemDescription(itemId) {\n    var itemName = document.querySelector('.portfolio__item-name');\n    var itemDescrption = document.querySelector('.portfolio__item-description');\n    var imagesContainer = document.querySelector('.portfolio__images');\n    var toolsContainer = document.querySelector('.tools');\n    var liveAt = document.querySelector('.portfolio__live-at');\n    var externalLinkButton = document.querySelector('.button--live-at');\n\n    itemName.innerHTML = PORTFOLIO_ITEMS[itemId].name;\n    itemDescrption.innerHTML = PORTFOLIO_ITEMS[itemId].description;\n    // clear images container from old images\n    imagesContainer.innerHTML = '';\n    // fill images container with new images\n    PORTFOLIO_ITEMS[itemId].images.forEach(function(element, index) {\n      imagesContainer.innerHTML += '<img src=\"' + element + '\" alt=\"' + PORTFOLIO_ITEMS[itemId].name + ' - #' + index + ' presentation image\" class=\"portfolio__image\" /> ';\n    });\n    toolsContainer.innerHTML = '';\n    PORTFOLIO_ITEMS[itemId].tools.forEach(function(element) {\n      toolsContainer.innerHTML += '<div class=\"tools_item\"><img src=\"' + TOOLS[element].icon + '\" alt=\"\" class=\"\"><p>' + TOOLS[element].name + '</p></div>';\n    });\n    liveAt.innerHTML = '<p>' + PORTFOLIO_ITEMS[itemId].liveAt + '</p>';\n    externalLinkButton.href = '//' + PORTFOLIO_ITEMS[itemId].liveAt;\n  }\n\n  /**\n  * Make portfolio item alive\n  **/\n  function viewChanger() {\n    var view = document.querySelector('.view');\n    var backButton = document.querySelectorAll('.button--back');\n    var listItems = document.querySelectorAll('.button--show-more');\n    var portfolioDescriptionView = document.querySelector('.screen--portfolio-item');\n\n    /**\n    * While clicking \"Show more\", activate description view and fill it with data\n    * @param {Object} evt - button click event\n    **/\n    function onViewChange(evt) {\n      evt.preventDefault();\n      // change details data\n      if (evt.currentTarget.classList.contains('button--show-more')) {\n        var portfolioItemId = evt.currentTarget.getAttribute('data-itemid');\n        fillPortfolioItemDescription(portfolioItemId);\n      }\n      // change view - add \"active\" class to main view container\n      view.classList.toggle('view--change');\n      // go to the top of portfolio item description container while \"show more\" event\n      if (view.classList.contains('view--change')) {\n        portfolioDescriptionView.scrollTop = 0;\n      }\n    }\n\n    for (var j = 0; j < listItems.length; j++) {\n      listItems[j].addEventListener('click', onViewChange, false);\n    }\n    for (var k = 0; k < backButton.length; k++) {\n      backButton[k].addEventListener('click', onViewChange, false);\n    }\n  }\n\n  /*eslint-disable */\n  function runScrollAnimations() {\n    ScrollTrigger.init();\n    console.log('Info: ScrollTrigger activated');\n  }\n  /*eslint-enable */\n\n  /**\n  * Runs while document is loaded...\n  */\n  function loaded() {\n    // prevent default submit form action, redirect to handleFormSubmit()\n    var form = document.getElementById('contact_form');\n    form.addEventListener('submit', handleFormSubmit, false);\n    console.log('Info: form submit function loaded');\n\n    // make internal buttons alive\n    var menuBtn = document.getElementById('menu-button');\n    menuBtn.addEventListener('click', menuTrigger, false);\n    var menuBtnClose = document.getElementById('menu-button-close');\n    menuBtnClose.addEventListener('click', menuTrigger, false);\n    var menuLinks = document.getElementsByClassName('internal-link');\n    for (var i = 0; i < menuLinks.length; i++) {\n      menuLinks[i].addEventListener('click', scrollTo, false);\n    }\n    console.log('Info: menu trigger functions loaded');\n\n    // create portfolio items\n    insertPortoflioItems(PORTFOLIO_ITEMS);\n\n    // make portoflio item alive\n    viewChanger();\n\n    // scroll animations\n    runScrollAnimations();\n  }\n  document.addEventListener('DOMContentLoaded', loaded, false);\n})();\n","/* Written by Erik Terwan - MIT license - https://github.com/terwanerik */\n!function(){\"use strict\";var n=function(){function n(){for(var r=o.scrollElement.innerHeight,c=o.bindElement.scrollTop,a=0;a<t.length;a++){var d=t[a],m=d.getBoundingClientRect().top,u=d.getAttribute(\"data-scroll\"),h=u.split(\" \"),w=parseInt(void 0!=h[0]?h[0]:0),f=void 0!=h[1]?h[1]:\"visible\",v=void 0!=h[2]?h[2]:\"invisible\",b=u.indexOf(\"addHeight\")>-1,g=u.indexOf(\"once\")>-1;b&&(m+=d.offsetHeight),i>c?m-=w:m+=w,r>m&&m>=0?(d.classList.contains(f)||d.classList.add(f),d.classList.contains(v)&&d.classList.remove(v),g&&t.splice(a,1)):(d.classList.contains(v)||d.classList.add(v),d.classList.contains(f)&&d.classList.remove(f))}for(var E=0;E<e.length;E++){var p=e[E];p.call(o,r,o.bindElement.scrollTop)}i=c,t.length>0||e.length>0?(s=!0,l(n)):s=!1}this.scrollElement=window,this.bindElement=document.body;var t=[],e=[],i=0,l=window.requestAnimationFrame,s=!0;this.init=function(e){return function(o,r){return void 0!=o&&null!=o?e.bindElement=o:e.bindElement=document.body,void 0!=r&&null!=r?e.scrollElement=r:e.scrollElement=window,t=[].slice.call(e.bindElement.querySelectorAll(\"[data-scroll]\")),l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||e.scrollElement.onscroll,i=e.bindElement.scrollTop,t.length>0?(s=!0,n()):s=!1,e}}(this),this.attach=function(t){return function(i){return e.push(i),s||(s=!0,n()),t}}(this),this.detach=function(n){return function(t){return e.splice(e.indexOf(t),1),n}}(this);var o=this};window.ScrollTrigger=new n}();"]}