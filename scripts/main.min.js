"use strict";/*!
               *
               *  Web Starter Kit
               *  Copyright 2015 Google Inc. All rights reserved.
               *
               *  Licensed under the Apache License, Version 2.0 (the "License");
               *  you may not use this file except in compliance with the License.
               *  You may obtain a copy of the License at
               *
               *    https://www.apache.org/licenses/LICENSE-2.0
               *
               *  Unless required by applicable law or agreed to in writing, software
               *  distributed under the License is distributed on an "AS IS" BASIS,
               *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
               *  See the License for the specific language governing permissions and
               *  limitations under the License
               *
               */
!function(){function e(){var e=document.getElementById("contact_form"),t={};return Object.keys(e.elements).map(function(n){isNaN(n)&&(t[n]=e.elements[n].value)}),t}function t(e){var t=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return!t.test(e)}function n(e){return e.target.children.contact_form__submit.disabled=!0,e.target.children.contact_form__submit.innerHTML="Wysyłanie...",e.target.children.contact_form__submit.className+=" button--loading",document.getElementById("form__error").style.display="none",!0}function o(e){return e.target.children.contact_form__submit.disabled=!1,e.target.children.contact_form__submit.innerHTML="Wyślij",e.target.children.contact_form__submit.className="button button--primary",!1}function i(e){var t=!0;return 0===e.target.message.value.length&&(t=!1),0===e.target.name.value.length&&(t=!1),0===e.target.email.value.length&&(t=!1),t}function r(r){r.preventDefault();var a=e(),c=!1,l=i(r);if(c||!l)document.getElementById("form__error").innerHTML="Uzupełnij wszystkie pola formularza",document.getElementById("form__error").style.display="block";else if(t(a.email))document.getElementById("form__error").innerHTML="Wpisz prawidłowy adres e-mail",document.getElementById("form__error").style.display="block";else{c=n(r);var s=r.target.action,m=new XMLHttpRequest;m.open("POST",s),m.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),m.onreadystatechange=function(){c=o(r),200===m.status?(document.getElementById("contact_form").style.display="none",document.getElementById("thankyou_message").style.display="block"):(document.getElementById("form__error").innerHTML='Coś poszło nie tak :( <br /> Wyślij proszę e-mail na adres: <a href="mailto:waskowski.mikolaj@gmail.com">waskowski.mikolaj@gmail.com</a>. <br /> Dziękuję!',document.getElementById("form__error").style.display="block",console.log(m.responseText))};var u=Object.keys(a).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(a[e])}).join("&");m.send(u)}}function a(){var e=document.getElementById("overlay");e.classList.toggle("menu-overlay--open")}function c(){return document.getElementById("overlay").classList.contains("menu-overlay--open")}function l(e){document.getElementById(e.target.getAttribute("data-goto")).scrollIntoView({behavior:"smooth"}),c()&&a()}function s(e){var t=document.getElementById("portfolio_items_container");e.forEach(function(e,n){var o=document.createElement("section");o.className+=" container section section--left section--portfolio-item ";var i=document.createElement("div");i.className+=" section__media section__media--portfolio-item ",i.innerHTML='<img src="'+e.previewImage+'" alt="portfolio_item" class="button--show-more" data-itemid="'+n+'" />';var r=document.createElement("div");r.className+=" section__text section__text--portfolio-item ",r.innerHTML='<h3 class="section__title">'+e.name+"</h3>",r.innerHTML+="<p>"+e.previewText+"</p>",r.innerHTML+='<button class="button button--text button--green button--show-more" data-itemid="'+n+'"><img src="./images/icon-info.svg" alt="" class="button__icon--left" /> Zobacz szczegóły</button>',o.appendChild(i),o.appendChild(r),t.appendChild(o)})}function m(e){var t=document.querySelector(".portfolio__item-name"),n=document.querySelector(".portfolio__item-description"),o=document.querySelector(".portfolio__images"),i=document.querySelector(".tools"),r=document.querySelector(".portfolio__live-at"),a=document.querySelector(".button--live-at");t.innerHTML=f[e].name,n.innerHTML=f[e].description,o.innerHTML="",f[e].images.forEach(function(t,n){o.innerHTML+='<img src="'+t+'" alt="'+f[e].name+" - #"+n+' presentation image" class="portfolio__image" /> '}),i.innerHTML="",f[e].tools.forEach(function(e){i.innerHTML+='<div class="tools_item"><img src="'+p[e].icon+'" alt="" class=""><p>'+p[e].name+"</p></div>"}),r.innerHTML="<p>"+f[e].liveAt+"</p>",a.href="//"+f[e].liveAt}function u(){function e(e){if(e.preventDefault(),e.currentTarget.classList.contains("button--show-more")){var n=e.currentTarget.getAttribute("data-itemid");m(n)}t.classList.toggle("view--change"),t.classList.contains("view--change")&&(i.scrollTop=0)}for(var t=document.querySelector(".view"),n=document.querySelectorAll(".button--back"),o=document.querySelectorAll(".button--show-more"),i=document.querySelector(".screen--portfolio-item"),r=0;r<o.length;r++)o[r].addEventListener("click",e,!1);for(var a=0;a<n.length;a++)n[a].addEventListener("click",e,!1)}function d(){var e=document.getElementById("contact_form");e.addEventListener("submit",r,!1),console.log("Info: form submit function loaded");var t=document.getElementById("menu-button");t.addEventListener("click",a,!1);var n=document.getElementById("menu-button-close");n.addEventListener("click",a,!1);for(var o=document.getElementsByClassName("internal-link"),i=0;i<o.length;i++)o[i].addEventListener("click",l,!1);console.log("Info: menu trigger functions loaded"),s(f),u()}var g=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));"serviceWorker"in navigator&&("https:"===window.location.protocol||g)&&navigator.serviceWorker.register("service-worker.js").then(function(e){e.onupdatefound=function(){if(navigator.serviceWorker.controller){var t=e.installing;t.onstatechange=function(){switch(t.state){case"installed":break;case"redundant":throw new Error("The installing service worker became redundant.")}}}}})["catch"](function(e){console.error("Error during service worker registration:",e)});var f=[{name:"test",previewText:"Elit fringilla rutrum. Aenean sollicitudin, erat a elementum rutrum, neque sem pretium metus, quis mollis nisl nunc et massa. Vestibulum sed metus in lorem tristique ullamcorper id vitae erat.",previewImage:"./images/portfolio_items/1.jpg",description:"description",images:["./images/portfolio_items/1.jpg"],tools:["sketch","mailingHtml","spotify"],liveAt:"google.com"},{name:"test 2",previewText:"Vestibulum sed metus in lorem tristique ullamcorper id vitae erat.",previewImage:"./images/portfolio_items/2.jpg",description:"description 2",images:["./images/portfolio_items/2.jpg","./images/portfolio_items/1.jpg"],tools:["sketch","mailingHtml"],liveAt:"facebook.com"}],p={sketch:{name:"Sketch",icon:"./images/tool-sketch.png"},mailingHtml:{name:"E-mailing HTML",icon:"./images/tool-template.png"},spotify:{name:"Spotify",icon:"./images/tool-spotify.png"}};document.addEventListener("DOMContentLoaded",d,!1)}();
//# sourceMappingURL=main.min.js.map
