{"version":3,"sources":["main.min.js","main.js"],"names":["getFormData","form","document","getElementById","data","Object","keys","elements","map","key","isNaN","value","emailValid","email","re","test","formLoading","event","target","children","contact_form__submit","disabled","innerHTML","className","style","display","formLoadingReset","inputsFilled","filled","message","length","name","handleFormSubmit","preventDefault","isLoading","allInputsFilled","url","action","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","status","console","log","responseText","encoded","encodeURIComponent","join","send","menuTrigger","overlay","classList","toggle","overlayActive","contains","scrollTo","getAttribute","scrollIntoView","behavior","viewChanger","onViewChange","evt","view","currentTarget","itemName","textContent","querySelector","backButton","querySelectorAll","listItems","j","addEventListener","k","loaded","menuBtn","menuBtnClose","menuLinks","getElementsByClassName","i","isLocalhost","Boolean","window","location","hostname","match","navigator","protocol","serviceWorker","register","then","registration","onupdatefound","controller","installingWorker","installing","onstatechange","state","Error","e","error"],"mappings":"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","file":"main.min.js","sourcesContent":["'use strict'; /*!\n               *\n               *  Web Starter Kit\n               *  Copyright 2015 Google Inc. All rights reserved.\n               *\n               *  Licensed under the Apache License, Version 2.0 (the \"License\");\n               *  you may not use this file except in compliance with the License.\n               *  You may obtain a copy of the License at\n               *\n               *    https://www.apache.org/licenses/LICENSE-2.0\n               *\n               *  Unless required by applicable law or agreed to in writing, software\n               *  distributed under the License is distributed on an \"AS IS\" BASIS,\n               *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n               *  See the License for the specific language governing permissions and\n               *  limitations under the License\n               *\n               */\n/* eslint-env browser */\n(function () {\n  'use strict';\n\n  // Check to make sure service workers are supported in the current browser,\n  // and that the current page is accessed from a secure origin. Using a\n  // service worker from an insecure origin will trigger JS console errors. See\n  // http://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features\n  var isLocalhost = Boolean(window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n  /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));\n\n\n\n  if ('serviceWorker' in navigator && (\n  window.location.protocol === 'https:' || isLocalhost)) {\n    navigator.serviceWorker.register('service-worker.js').\n    then(function (registration) {\n      // updatefound is fired if service-worker.js changes.\n      registration.onupdatefound = function () {\n        // updatefound is also fired the very first time the SW is installed,\n        // and there's no need to prompt for a reload at that point.\n        // So check here to see if the page is already controlled,\n        // i.e. whether there's an existing service worker.\n        if (navigator.serviceWorker.controller) {\n          // The updatefound event implies that registration.installing is set:\n          // https://slightlyoff.github.io/ServiceWorker/spec/service_worker/index.html\n          var installingWorker = registration.installing;\n\n          installingWorker.onstatechange = function () {\n            switch (installingWorker.state) {\n              case 'installed':\n                // At this point, the old content will have been purged and the\n                // fresh content will have been added to the cache.\n                // It's the perfect time to display a \"New content is\n                // available; please refresh.\" message in the page's interface.\n                break;\n\n              case 'redundant':\n                throw new Error('The installing ' +\n                'service worker became redundant.');\n\n              default:\n              // Ignore\n            }\n          };\n        }\n      };\n    }).catch(function (e) {\n      console.error('Error during service worker registration:', e);\n    });\n  }\n\n  // Custom JavaScript\n\n  /**\n  * Gets contact form input values\n  * @return {object} set of inputs -> object[input_name] = input_value\n  */\n  function getFormData() {\n    var form = document.getElementById('contact_form');\n    // get form inputs data\n    var data = {};\n    Object.keys(form.elements).map(function (key) {\n      if (isNaN(key)) {\n        data[key] = form.elements[key].value;\n      }\n    });\n    return data;\n  }\n\n  /**\n    * Email validation regexp\n    * @param {string} email for validation\n    * @return {boolean} email validation result\n    */\n  function emailValid(email) {\n    var re = /^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$/i;\n    return !re.test(email);\n  }\n\n  /**\n    * Form state - loading\n    * @param {Object} event DOM form event\n    * @return {boolean} is loading? true\n    */\n  function formLoading(event) {\n    // make visual change for loading state\n    event.target.children.contact_form__submit.disabled = true;\n    event.target.children.contact_form__submit.innerHTML = 'Wysyłanie...';\n    event.target.children.contact_form__submit.className += ' button--loading';\n    document.getElementById('form__error').style.display = 'none';\n\n    return true;\n  }\n  /**\n    * Form loading state - reset\n    * @param {Object} event DOM form event\n    * @return {boolean} is loading? false\n    */\n  function formLoadingReset(event) {\n    // make visual change for loading state\n    event.target.children.contact_form__submit.disabled = false;\n    event.target.children.contact_form__submit.innerHTML = 'Wyślij';\n    event.target.children.contact_form__submit.className = 'button button--primary';\n\n    return false;\n  }\n  /**\n    * Detects empty inputs in form\n    * @param {Object} event DOM form event\n    * @return {boolean} every form inputs filled?\n    */\n  function inputsFilled(event) {\n    var filled = true;\n    if (event.target.message.value.length === 0) {\n      filled = false;\n    }\n    if (event.target.name.value.length === 0) {\n      filled = false;\n    }\n    if (event.target.email.value.length === 0) {\n      filled = false;\n    }\n\n    return filled;\n  }\n\n  /**\n    * Send form data\n    * @param {Object} event DOM event\n    */\n  function handleFormSubmit(event) {\n    event.preventDefault();\n    var data = getFormData();\n    var isLoading = false;\n    var allInputsFilled = inputsFilled(event);\n\n    // VALIDATION\n    if (isLoading || !allInputsFilled) {\n      document.getElementById('form__error').innerHTML = 'Uzupełnij wszystkie pola formularza';\n      document.getElementById('form__error').style.display = 'block';\n    } else if (emailValid(data.email)) {\n      document.getElementById('form__error').innerHTML = 'Wpisz prawidłowy adres e-mail';\n      document.getElementById('form__error').style.display = 'block';\n    } else {\n      // VALIDATION PASSED\n      isLoading = formLoading(event);\n      var url = event.target.action;\n      var xhr = new XMLHttpRequest();\n      xhr.open('POST', url);\n      xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n      xhr.onreadystatechange = function () {\n        isLoading = formLoadingReset(event);\n        if (xhr.status === 200) {\n          document.getElementById('contact_form').style.display = 'none';\n          document.getElementById('thankyou_message').style.display = 'block';\n        } else {\n          document.getElementById('form__error').innerHTML = 'Coś poszło nie tak :( <br /> Wyślij proszę e-mail na adres: <a href=\"mailto:waskowski.mikolaj@gmail.com\">waskowski.mikolaj@gmail.com</a>. <br /> Dziękuję!';\n          document.getElementById('form__error').style.display = 'block';\n          console.log(xhr.responseText);\n        }\n      };\n      // url encode form data for sending as post data\n      var encoded = Object.keys(data).map(function (key) {\n        return encodeURIComponent(key) + '=' + encodeURIComponent(data[key]);\n      }).join('&');\n\n      xhr.send(encoded);\n    }\n  }\n\n  /**\n    * Activating overlay menu\n    */\n  function menuTrigger() {\n    var overlay = document.getElementById('overlay');\n    overlay.classList.toggle('menu-overlay--open');\n  }\n\n  /**\n    * Check that menu is opened (overlay is active)\n    * @return {boolean} Menu active?\n    */\n  function overlayActive() {\n    return document.getElementById('overlay').classList.contains('menu-overlay--open');\n  }\n\n  /**\n    * Scrolls to element, closing menu overlay if needed\n    * @param {Object} event DOM event\n    */\n  function scrollTo(event) {\n    // goto section marked as button data-goto attribute\n    document.getElementById(event.target.getAttribute('data-goto')).scrollIntoView({\n      behavior: 'smooth' });\n\n    // need to close menu overlay?\n    if (overlayActive()) {\n      menuTrigger();\n    }\n  }\n\n  /**\n    * Make portfolio item alive\n    */\n  function viewChanger() {\n    var view = document.querySelector('.view');\n    var itemName = document.querySelector('.portfolio__item-name');\n    var backButton = document.querySelectorAll('.button--back');\n    var listItems = document.querySelectorAll('.button--show-more');\n\n    function onViewChange(evt) {\n      // change view - add \"active\" class to main view container\n      view.classList.toggle('view--change');\n      // change details data\n      if (evt.currentTarget.classList.contains('button--show-more')) {\n        itemName.textContent = evt.currentTarget.getAttribute('data-itemid');\n      }\n      evt.preventDefault();\n    }\n\n    for (var j = 0; j < listItems.length; j++) {\n      listItems[j].addEventListener('click', onViewChange, false);\n    }\n    for (var k = 0; k < backButton.length; k++) {\n      backButton[k].addEventListener('click', onViewChange, false);\n    }\n  }\n\n  /**\n    * Runs while document is loaded...\n    */\n  function loaded() {\n    // prevent default submit form action, redirect to handleFormSubmit()\n    var form = document.getElementById('contact_form');\n    form.addEventListener('submit', handleFormSubmit, false);\n    console.log('Info: form submit function loaded');\n\n    // make internal buttons alive\n    var menuBtn = document.getElementById('menu-button');\n    menuBtn.addEventListener('click', menuTrigger, false);\n    var menuBtnClose = document.getElementById('menu-button-close');\n    menuBtnClose.addEventListener('click', menuTrigger, false);\n    var menuLinks = document.getElementsByClassName('internal-link');\n    for (var i = 0; i < menuLinks.length; i++) {\n      menuLinks[i].addEventListener('click', scrollTo, false);\n    }\n    console.log('Info: menu trigger functions loaded');\n\n    // make portoflio item alive\n    viewChanger();\n  }\n  document.addEventListener('DOMContentLoaded', loaded, false);\n})();\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaXNMb2NhbGhvc3QiLCJCb29sZWFuIiwid2luZG93IiwibG9jYXRpb24iLCJob3N0bmFtZSIsIm1hdGNoIiwibmF2aWdhdG9yIiwicHJvdG9jb2wiLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJ0aGVuIiwicmVnaXN0cmF0aW9uIiwib251cGRhdGVmb3VuZCIsImNvbnRyb2xsZXIiLCJpbnN0YWxsaW5nV29ya2VyIiwiaW5zdGFsbGluZyIsIm9uc3RhdGVjaGFuZ2UiLCJzdGF0ZSIsIkVycm9yIiwiY2F0Y2giLCJlIiwiY29uc29sZSIsImVycm9yIiwiZ2V0Rm9ybURhdGEiLCJmb3JtIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImRhdGEiLCJPYmplY3QiLCJrZXlzIiwiZWxlbWVudHMiLCJtYXAiLCJrZXkiLCJpc05hTiIsInZhbHVlIiwiZW1haWxWYWxpZCIsImVtYWlsIiwicmUiLCJ0ZXN0IiwiZm9ybUxvYWRpbmciLCJldmVudCIsInRhcmdldCIsImNoaWxkcmVuIiwiY29udGFjdF9mb3JtX19zdWJtaXQiLCJkaXNhYmxlZCIsImlubmVySFRNTCIsImNsYXNzTmFtZSIsInN0eWxlIiwiZGlzcGxheSIsImZvcm1Mb2FkaW5nUmVzZXQiLCJpbnB1dHNGaWxsZWQiLCJmaWxsZWQiLCJtZXNzYWdlIiwibGVuZ3RoIiwibmFtZSIsImhhbmRsZUZvcm1TdWJtaXQiLCJwcmV2ZW50RGVmYXVsdCIsImlzTG9hZGluZyIsImFsbElucHV0c0ZpbGxlZCIsInVybCIsImFjdGlvbiIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJzdGF0dXMiLCJsb2ciLCJyZXNwb25zZVRleHQiLCJlbmNvZGVkIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwiam9pbiIsInNlbmQiLCJtZW51VHJpZ2dlciIsIm92ZXJsYXkiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJvdmVybGF5QWN0aXZlIiwiY29udGFpbnMiLCJzY3JvbGxUbyIsImdldEF0dHJpYnV0ZSIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJ2aWV3Q2hhbmdlciIsInZpZXciLCJxdWVyeVNlbGVjdG9yIiwiaXRlbU5hbWUiLCJiYWNrQnV0dG9uIiwicXVlcnlTZWxlY3RvckFsbCIsImxpc3RJdGVtcyIsIm9uVmlld0NoYW5nZSIsImV2dCIsImN1cnJlbnRUYXJnZXQiLCJ0ZXh0Q29udGVudCIsImoiLCJhZGRFdmVudExpc3RlbmVyIiwiayIsImxvYWRlZCIsIm1lbnVCdG4iLCJtZW51QnRuQ2xvc2UiLCJtZW51TGlua3MiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiaSJdLCJtYXBwaW5ncyI6ImNBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWtCQTtBQUNBLENBQUMsWUFBVztBQUNWOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSUEsY0FBY0MsUUFBUUMsT0FBT0MsUUFBUCxDQUFnQkMsUUFBaEIsS0FBNkIsV0FBN0I7QUFDdEI7QUFDQUYsU0FBT0MsUUFBUCxDQUFnQkMsUUFBaEIsS0FBNkIsT0FGUDtBQUd0QjtBQUNBRixTQUFPQyxRQUFQLENBQWdCQyxRQUFoQixDQUF5QkMsS0FBekI7QUFDRSwwREFERixDQUpjLENBQWxCOzs7O0FBU0EsTUFBSSxtQkFBbUJDLFNBQW5CO0FBQ0NKLFNBQU9DLFFBQVAsQ0FBZ0JJLFFBQWhCLEtBQTZCLFFBQTdCLElBQXlDUCxXQUQxQyxDQUFKLEVBQzREO0FBQzFETSxjQUFVRSxhQUFWLENBQXdCQyxRQUF4QixDQUFpQyxtQkFBakM7QUFDQ0MsUUFERCxDQUNNLFVBQVNDLFlBQVQsRUFBdUI7QUFDM0I7QUFDQUEsbUJBQWFDLGFBQWIsR0FBNkIsWUFBVztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQUlOLFVBQVVFLGFBQVYsQ0FBd0JLLFVBQTVCLEVBQXdDO0FBQ3RDO0FBQ0E7QUFDQSxjQUFJQyxtQkFBbUJILGFBQWFJLFVBQXBDOztB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WSxtQ0FBWjs7QUFFQTtBQUNBLFFBQUkrQixVQUFVekUsU0FBU0MsY0FBVCxDQUF3QixhQUF4QixDQUFkO0FBQ0F3RSxZQUFRSCxnQkFBUixDQUF5QixPQUF6QixFQUFrQ3RCLFdBQWxDLEVBQStDLEtBQS9DO0FBQ0EsUUFBSTBCLGVBQWUxRSxTQUFTQyxjQUFULENBQXdCLG1CQUF4QixDQUFuQjtBQUNBeUUsaUJBQWFKLGdCQUFiLENBQThCLE9BQTlCLEVBQXVDdEIsV0FBdkMsRUFBb0QsS0FBcEQ7QUFDQSxRQUFJMkIsWUFBWTNFLFNBQVM0RSxzQkFBVCxDQUFnQyxlQUFoQyxDQUFoQjtBQUNBLFNBQUssSUFBSUMsSUFBSSxDQUFiLEVBQWdCQSxJQUFJRixVQUFVL0MsTUFBOUIsRUFBc0NpRCxHQUF0QyxFQUEyQztBQUN6Q0YsZ0JBQVVFLENBQVYsRUFBYVAsZ0JBQWIsQ0FBOEIsT0FBOUIsRUFBdUNoQixRQUF2QyxFQUFpRCxLQUFqRDtBQUNEO0FBQ0QxRCxZQUFROEMsR0FBUixDQUFZLHFDQUFaOztBQUVBO0FBQ0FnQjtBQUNEO0FBQ0QxRCxXQUFTc0UsZ0JBQVQsQ0FBMEIsa0JBQTFCLEVBQThDRSxNQUE5QyxFQUFzRCxLQUF0RDtBQUNELENBaFFEIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqXG4gKiAgV2ViIFN0YXJ0ZXIgS2l0XG4gKiAgQ29weXJpZ2h0IDIwMTUgR29vZ2xlIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZVxuICpcbiAqL1xuLyogZXNsaW50LWVudiBicm93c2VyICovXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBDaGVjayB0byBtYWtlIHN1cmUgc2VydmljZSB3b3JrZXJzIGFyZSBzdXBwb3J0ZWQgaW4gdGhlIGN1cnJlbnQgYnJvd3NlcixcbiAgLy8gYW5kIHRoYXQgdGhlIGN1cnJlbnQgcGFnZSBpcyBhY2Nlc3NlZCBmcm9tIGEgc2VjdXJlIG9yaWdpbi4gVXNpbmcgYVxuICAvLyBzZXJ2aWNlIHdvcmtlciBmcm9tIGFuIGluc2VjdXJlIG9yaWdpbiB3aWxsIHRyaWdnZXIgSlMgY29uc29sZSBlcnJvcnMuIFNlZVxuICAvLyBodHRwOi8vd3d3LmNocm9taXVtLm9yZy9Ib21lL2Nocm9taXVtLXNlY3VyaXR5L3ByZWZlci1zZWN1cmUtb3JpZ2lucy1mb3ItcG93ZXJmdWwtbmV3LWZlYXR1cmVzXG4gIHZhciBpc0xvY2FsaG9zdCA9IEJvb2xlYW4od2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSAnbG9jYWxob3N0JyB8fFxuICAgICAgLy8gWzo6MV0gaXMgdGhlIElQdjYgbG9jYWxob3N0IGFkZHJlc3MuXG4gICAgICB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgPT09ICdbOjoxXScgfHxcbiAgICAgIC8vIDEyNy4wLjAuMS84IGlzIGNvbnNpZGVyZWQgbG9jYWxob3N0IGZvciBJUHY0LlxuICAgICAgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLm1hdGNoKFxuICAgICAgICAvXjEyNyg/OlxcLig/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPykpezN9JC9cbiAgICAgIClcbiAgICApO1xuXG4gIGlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yICYmXG4gICAgICAod2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6JyB8fCBpc0xvY2FsaG9zdCkpIHtcbiAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcignc2VydmljZS13b3JrZXIuanMnKVxuICAgIC50aGVuKGZ1bmN0aW9uKHJlZ2lzdHJhdGlvbikge1xuICAgICAgLy8gdXBkYXRlZm91bmQgaXMgZmlyZWQgaWYgc2VydmljZS13b3JrZXIuanMgY2hhbmdlcy5cbiAgICAgIHJlZ2lzdHJhdGlvbi5vbnVwZGF0ZWZvdW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIHVwZGF0ZWZvdW5kIGlzIGFsc28gZmlyZWQgdGhlIHZlcnkgZmlyc3QgdGltZSB0aGUgU1cgaXMgaW5zdGFsbGVkLFxuICAgICAgICAvLyBhbmQgdGhlcmUncyBubyBuZWVkIHRvIHByb21wdCBmb3IgYSByZWxvYWQgYXQgdGhhdCBwb2ludC5cbiAgICAgICAgLy8gU28gY2hlY2sgaGVyZSB0byBzZWUgaWYgdGhlIHBhZ2UgaXMgYWxyZWFkeSBjb250cm9sbGVkLFxuICAgICAgICAvLyBpLmUuIHdoZXRoZXIgdGhlcmUncyBhbiBleGlzdGluZyBzZXJ2aWNlIHdvcmtlci5cbiAgICAgICAgaWYgKG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAvLyBUaGUgdXBkYXRlZm91bmQgZXZlbnQgaW1wbGllcyB0aGF0IHJlZ2lzdHJhdGlvbi5pbnN0YWxsaW5nIGlzIHNldDpcbiAgICAgICAgICAvLyBodHRwczovL3NsaWdodGx5b2ZmLmdpdGh1Yi5pby9TZXJ2aWNlV29ya2VyL3NwZWMvc2VydmljZV93b3JrZXIvaW5kZXguaHRtbFxuICAgICAgICAgIHZhciBpbnN0YWxsaW5nV29ya2VyID0gcmVnaXN0cmF0aW9uLmluc3RhbGxpbmc7XG5cbiAgICAgICAgICBpbnN0YWxsaW5nV29ya2VyLm9uc3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoaW5zdGFsbGluZ1dvcmtlci5zdGF0ZSkge1xuICAgICAgICAgICAgICBjYXNlICdpbnN0YWxsZWQnOlxuICAgICAgICAgICAgICAgIC8vIEF0IHRoaXMgcG9pbnQsIHRoZSBvbGQgY29udGVudCB3aWxsIGhhdmUgYmVlbiBwdXJnZWQgYW5kIHRoZVxuICAgICAgICAgICAgICAgIC8vIGZyZXNoIGNvbnRlbnQgd2lsbCBoYXZlIGJlZW4gYWRkZWQgdG8gdGhlIGNhY2hlLlxuICAgICAgICAgICAgICAgIC8vIEl0J3MgdGhlIHBlcmZlY3QgdGltZSB0byBkaXNwbGF5IGEgXCJOZXcgY29udGVudCBpc1xuICAgICAgICAgICAgICAgIC8vIGF2YWlsYWJsZTsgcGxlYXNlIHJlZnJlc2guXCIgbWVzc2FnZSBpbiB0aGUgcGFnZSdzIGludGVyZmFjZS5cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlICdyZWR1bmRhbnQnOlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGluc3RhbGxpbmcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzZXJ2aWNlIHdvcmtlciBiZWNhbWUgcmVkdW5kYW50LicpO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgLy8gSWdub3JlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbihlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkdXJpbmcgc2VydmljZSB3b3JrZXIgcmVnaXN0cmF0aW9uOicsIGUpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gQ3VzdG9tIEphdmFTY3JpcHRcblxuICAvKipcbiAgKiBHZXRzIGNvbnRhY3QgZm9ybSBpbnB1dCB2YWx1ZXNcbiAgKiBAcmV0dXJuIHtvYmplY3R9IHNldCBvZiBpbnB1dHMgLT4gb2JqZWN0W2lucHV0X25hbWVdID0gaW5wdXRfdmFsdWVcbiAgKi9cbiAgZnVuY3Rpb24gZ2V0Rm9ybURhdGEoKSB7XG4gICAgdmFyIGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFjdF9mb3JtJyk7XG4gICAgLy8gZ2V0IGZvcm0gaW5wdXRzIGRhdGFcbiAgICB2YXIgZGF0YSA9IHt9O1xuICAgIE9iamVjdC5rZXlzKGZvcm0uZWxlbWVudHMpLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICAgIGlmIChpc05hTihrZXkpKSB7XG4gICAgICAgIGRhdGFba2V5XSA9IGZvcm0uZWxlbWVudHNba2V5XS52YWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIC8qKlxuICAqIEVtYWlsIHZhbGlkYXRpb24gcmVnZXhwXG4gICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsIGZvciB2YWxpZGF0aW9uXG4gICogQHJldHVybiB7Ym9vbGVhbn0gZW1haWwgdmFsaWRhdGlvbiByZXN1bHRcbiAgKi9cbiAgZnVuY3Rpb24gZW1haWxWYWxpZChlbWFpbCkge1xuICAgIHZhciByZSA9IC9eKFtcXHctXSsoPzpcXC5bXFx3LV0rKSopQCgoPzpbXFx3LV0rXFwuKSpcXHdbXFx3LV17MCw2Nn0pXFwuKFthLXpdezIsNn0oPzpcXC5bYS16XXsyfSk/KSQvaTtcbiAgICByZXR1cm4gIXJlLnRlc3QoZW1haWwpO1xuICB9XG5cbiAgLyoqXG4gICogRm9ybSBzdGF0ZSAtIGxvYWRpbmdcbiAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgRE9NIGZvcm0gZXZlbnRcbiAgKiBAcmV0dXJuIHtib29sZWFufSBpcyBsb2FkaW5nPyB0cnVlXG4gICovXG4gIGZ1bmN0aW9uIGZvcm1Mb2FkaW5nKGV2ZW50KSB7XG4gICAgLy8gbWFrZSB2aXN1YWwgY2hhbmdlIGZvciBsb2FkaW5nIHN0YXRlXG4gICAgZXZlbnQudGFyZ2V0LmNoaWxkcmVuLmNvbnRhY3RfZm9ybV9fc3VibWl0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICBldmVudC50YXJnZXQuY2hpbGRyZW4uY29udGFjdF9mb3JtX19zdWJtaXQuaW5uZXJIVE1MID0gJ1d5c3nFgmFuaWUuLi4nO1xuICAgIGV2ZW50LnRhcmdldC5jaGlsZHJlbi5jb250YWN0X2Zvcm1fX3N1Ym1pdC5jbGFzc05hbWUgKz0gJyBidXR0b24tLWxvYWRpbmcnO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtX19lcnJvcicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvKipcbiAgKiBGb3JtIGxvYWRpbmcgc3RhdGUgLSByZXNldFxuICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCBET00gZm9ybSBldmVudFxuICAqIEByZXR1cm4ge2Jvb2xlYW59IGlzIGxvYWRpbmc/IGZhbHNlXG4gICovXG4gIGZ1bmN0aW9uIGZvcm1Mb2FkaW5nUmVzZXQoZXZlbnQpIHtcbiAgICAvLyBtYWtlIHZpc3VhbCBjaGFuZ2UgZm9yIGxvYWRpbmcgc3RhdGVcbiAgICBldmVudC50YXJnZXQuY2hpbGRyZW4uY29udGFjdF9mb3JtX19zdWJtaXQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICBldmVudC50YXJnZXQuY2hpbGRyZW4uY29udGFjdF9mb3JtX19zdWJtaXQuaW5uZXJIVE1MID0gJ1d5xZtsaWonO1xuICAgIGV2ZW50LnRhcmdldC5jaGlsZHJlbi5jb250YWN0X2Zvcm1fX3N1Ym1pdC5jbGFzc05hbWUgPSAnYnV0dG9uIGJ1dHRvbi0tcHJpbWFyeSc7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICogRGV0ZWN0cyBlbXB0eSBpbnB1dHMgaW4gZm9ybVxuICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCBET00gZm9ybSBldmVudFxuICAqIEByZXR1cm4ge2Jvb2xlYW59IGV2ZXJ5IGZvcm0gaW5wdXRzIGZpbGxlZD9cbiAgKi9cbiAgZnVuY3Rpb24gaW5wdXRzRmlsbGVkKGV2ZW50KSB7XG4gICAgdmFyIGZpbGxlZCA9IHRydWU7XG4gICAgaWYgKGV2ZW50LnRhcmdldC5tZXNzYWdlLnZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZmlsbGVkID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChldmVudC50YXJnZXQubmFtZS52YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIGZpbGxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZXZlbnQudGFyZ2V0LmVtYWlsLnZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZmlsbGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZpbGxlZDtcbiAgfVxuXG4gIC8qKlxuICAqIFNlbmQgZm9ybSBkYXRhXG4gICogQHBhcmFtIHtPYmplY3R9IGV2ZW50IERPTSBldmVudFxuICAqL1xuICBmdW5jdGlvbiBoYW5kbGVGb3JtU3VibWl0KGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgZGF0YSA9IGdldEZvcm1EYXRhKCk7XG4gICAgdmFyIGlzTG9hZGluZyA9IGZhbHNlO1xuICAgIHZhciBhbGxJbnB1dHNGaWxsZWQgPSBpbnB1dHNGaWxsZWQoZXZlbnQpO1xuXG4gICAgLy8gVkFMSURBVElPTlxuICAgIGlmIChpc0xvYWRpbmcgfHwgIWFsbElucHV0c0ZpbGxlZCkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm1fX2Vycm9yJykuaW5uZXJIVE1MID0gJ1V6dXBlxYJuaWogd3N6eXN0a2llIHBvbGEgZm9ybXVsYXJ6YSc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybV9fZXJyb3InKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9IGVsc2UgaWYgKGVtYWlsVmFsaWQoZGF0YS5lbWFpbCkpIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtX19lcnJvcicpLmlubmVySFRNTCA9ICdXcGlzeiBwcmF3aWTFgm93eSBhZHJlcyBlLW1haWwnO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm1fX2Vycm9yJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFZBTElEQVRJT04gUEFTU0VEXG4gICAgICBpc0xvYWRpbmcgPSBmb3JtTG9hZGluZyhldmVudCk7XG4gICAgICB2YXIgdXJsID0gZXZlbnQudGFyZ2V0LmFjdGlvbjtcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgIHhoci5vcGVuKCdQT1NUJywgdXJsKTtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7XG4gICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlzTG9hZGluZyA9IGZvcm1Mb2FkaW5nUmVzZXQoZXZlbnQpO1xuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhY3RfZm9ybScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RoYW5reW91X21lc3NhZ2UnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybV9fZXJyb3InKS5pbm5lckhUTUwgPSAnQ2/FmyBwb3N6xYJvIG5pZSB0YWsgOiggPGJyIC8+IFd5xZtsaWogcHJvc3rEmSBlLW1haWwgbmEgYWRyZXM6IDxhIGhyZWY9XCJtYWlsdG86d2Fza293c2tpLm1pa29sYWpAZ21haWwuY29tXCI+d2Fza293c2tpLm1pa29sYWpAZ21haWwuY29tPC9hPi4gPGJyIC8+IER6acSZa3VqxJkhJztcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybV9fZXJyb3InKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICBjb25zb2xlLmxvZyh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIC8vIHVybCBlbmNvZGUgZm9ybSBkYXRhIGZvciBzZW5kaW5nIGFzIHBvc3QgZGF0YVxuICAgICAgdmFyIGVuY29kZWQgPSBPYmplY3Qua2V5cyhkYXRhKS5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChkYXRhW2tleV0pO1xuICAgICAgfSkuam9pbignJicpO1xuXG4gICAgICB4aHIuc2VuZChlbmNvZGVkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgKiBBY3RpdmF0aW5nIG92ZXJsYXkgbWVudVxuICAqL1xuICBmdW5jdGlvbiBtZW51VHJpZ2dlcigpIHtcbiAgICB2YXIgb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVybGF5Jyk7XG4gICAgb3ZlcmxheS5jbGFzc0xpc3QudG9nZ2xlKCdtZW51LW92ZXJsYXktLW9wZW4nKTtcbiAgfVxuXG4gIC8qKlxuICAqIENoZWNrIHRoYXQgbWVudSBpcyBvcGVuZWQgKG92ZXJsYXkgaXMgYWN0aXZlKVxuICAqIEByZXR1cm4ge2Jvb2xlYW59IE1lbnUgYWN0aXZlP1xuICAqL1xuICBmdW5jdGlvbiBvdmVybGF5QWN0aXZlKCkge1xuICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheScpLmNsYXNzTGlzdC5jb250YWlucygnbWVudS1vdmVybGF5LS1vcGVuJyk7XG4gIH1cblxuICAvKipcbiAgKiBTY3JvbGxzIHRvIGVsZW1lbnQsIGNsb3NpbmcgbWVudSBvdmVybGF5IGlmIG5lZWRlZFxuICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCBET00gZXZlbnRcbiAgKi9cbiAgZnVuY3Rpb24gc2Nyb2xsVG8oZXZlbnQpIHtcbiAgICAvLyBnb3RvIHNlY3Rpb24gbWFya2VkIGFzIGJ1dHRvbiBkYXRhLWdvdG8gYXR0cmlidXRlXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1nb3RvJykpLnNjcm9sbEludG9WaWV3KHtcbiAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICAgIH0pO1xuICAgIC8vIG5lZWQgdG8gY2xvc2UgbWVudSBvdmVybGF5P1xuICAgIGlmIChvdmVybGF5QWN0aXZlKCkpIHtcbiAgICAgIG1lbnVUcmlnZ2VyKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICogTWFrZSBwb3J0Zm9saW8gaXRlbSBhbGl2ZVxuICAqL1xuICBmdW5jdGlvbiB2aWV3Q2hhbmdlcigpIHtcbiAgICB2YXIgdmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52aWV3Jyk7XG4gICAgdmFyIGl0ZW1OYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcnRmb2xpb19faXRlbS1uYW1lJyk7XG4gICAgdmFyIGJhY2tCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYnV0dG9uLS1iYWNrJyk7XG4gICAgdmFyIGxpc3RJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5idXR0b24tLXNob3ctbW9yZScpO1xuXG4gICAgZnVuY3Rpb24gb25WaWV3Q2hhbmdlKGV2dCkge1xuICAgICAgLy8gY2hhbmdlIHZpZXcgLSBhZGQgXCJhY3RpdmVcIiBjbGFzcyB0byBtYWluIHZpZXcgY29udGFpbmVyXG4gICAgICB2aWV3LmNsYXNzTGlzdC50b2dnbGUoJ3ZpZXctLWNoYW5nZScpO1xuICAgICAgLy8gY2hhbmdlIGRldGFpbHMgZGF0YVxuICAgICAgaWYgKGV2dC5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYnV0dG9uLS1zaG93LW1vcmUnKSkge1xuICAgICAgICBpdGVtTmFtZS50ZXh0Q29udGVudCA9IGV2dC5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1pdGVtaWQnKTtcbiAgICAgIH1cbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGlzdEl0ZW1zLmxlbmd0aDsgaisrKSB7XG4gICAgICBsaXN0SXRlbXNbal0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvblZpZXdDaGFuZ2UsIGZhbHNlKTtcbiAgICB9XG4gICAgZm9yICh2YXIgayA9IDA7IGsgPCBiYWNrQnV0dG9uLmxlbmd0aDsgaysrKSB7XG4gICAgICBiYWNrQnV0dG9uW2tdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25WaWV3Q2hhbmdlLCBmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICogUnVucyB3aGlsZSBkb2N1bWVudCBpcyBsb2FkZWQuLi5cbiAgKi9cbiAgZnVuY3Rpb24gbG9hZGVkKCkge1xuICAgIC8vIHByZXZlbnQgZGVmYXVsdCBzdWJtaXQgZm9ybSBhY3Rpb24sIHJlZGlyZWN0IHRvIGhhbmRsZUZvcm1TdWJtaXQoKVxuICAgIHZhciBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhY3RfZm9ybScpO1xuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgaGFuZGxlRm9ybVN1Ym1pdCwgZmFsc2UpO1xuICAgIGNvbnNvbGUubG9nKCdJbmZvOiBmb3JtIHN1Ym1pdCBmdW5jdGlvbiBsb2FkZWQnKTtcblxuICAgIC8vIG1ha2UgaW50ZXJuYWwgYnV0dG9ucyBhbGl2ZVxuICAgIHZhciBtZW51QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUtYnV0dG9uJyk7XG4gICAgbWVudUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG1lbnVUcmlnZ2VyLCBmYWxzZSk7XG4gICAgdmFyIG1lbnVCdG5DbG9zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51LWJ1dHRvbi1jbG9zZScpO1xuICAgIG1lbnVCdG5DbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG1lbnVUcmlnZ2VyLCBmYWxzZSk7XG4gICAgdmFyIG1lbnVMaW5rcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2ludGVybmFsLWxpbmsnKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lbnVMaW5rcy5sZW5ndGg7IGkrKykge1xuICAgICAgbWVudUxpbmtzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2Nyb2xsVG8sIGZhbHNlKTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coJ0luZm86IG1lbnUgdHJpZ2dlciBmdW5jdGlvbnMgbG9hZGVkJyk7XG5cbiAgICAvLyBtYWtlIHBvcnRvZmxpbyBpdGVtIGFsaXZlXG4gICAgdmlld0NoYW5nZXIoKTtcbiAgfVxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgbG9hZGVkLCBmYWxzZSk7XG59KSgpO1xuIl19\n","/*!\n *\n *  Web Starter Kit\n *  Copyright 2015 Google Inc. All rights reserved.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *    https://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License\n *\n */\n/* eslint-env browser */\n(function() {\n  'use strict';\n\n  // Check to make sure service workers are supported in the current browser,\n  // and that the current page is accessed from a secure origin. Using a\n  // service worker from an insecure origin will trigger JS console errors. See\n  // http://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features\n  var isLocalhost = Boolean(window.location.hostname === 'localhost' ||\n      // [::1] is the IPv6 localhost address.\n      window.location.hostname === '[::1]' ||\n      // 127.0.0.1/8 is considered localhost for IPv4.\n      window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n      )\n    );\n\n  if ('serviceWorker' in navigator &&\n      (window.location.protocol === 'https:' || isLocalhost)) {\n    navigator.serviceWorker.register('service-worker.js')\n    .then(function(registration) {\n      // updatefound is fired if service-worker.js changes.\n      registration.onupdatefound = function() {\n        // updatefound is also fired the very first time the SW is installed,\n        // and there's no need to prompt for a reload at that point.\n        // So check here to see if the page is already controlled,\n        // i.e. whether there's an existing service worker.\n        if (navigator.serviceWorker.controller) {\n          // The updatefound event implies that registration.installing is set:\n          // https://slightlyoff.github.io/ServiceWorker/spec/service_worker/index.html\n          var installingWorker = registration.installing;\n\n          installingWorker.onstatechange = function() {\n            switch (installingWorker.state) {\n              case 'installed':\n                // At this point, the old content will have been purged and the\n                // fresh content will have been added to the cache.\n                // It's the perfect time to display a \"New content is\n                // available; please refresh.\" message in the page's interface.\n                break;\n\n              case 'redundant':\n                throw new Error('The installing ' +\n                                'service worker became redundant.');\n\n              default:\n                // Ignore\n            }\n          };\n        }\n      };\n    }).catch(function(e) {\n      console.error('Error during service worker registration:', e);\n    });\n  }\n\n  // Custom JavaScript\n\n  /**\n  * Gets contact form input values\n  * @return {object} set of inputs -> object[input_name] = input_value\n  */\n  function getFormData() {\n    var form = document.getElementById('contact_form');\n    // get form inputs data\n    var data = {};\n    Object.keys(form.elements).map(function(key) {\n      if (isNaN(key)) {\n        data[key] = form.elements[key].value;\n      }\n    });\n    return data;\n  }\n\n  /**\n  * Email validation regexp\n  * @param {string} email for validation\n  * @return {boolean} email validation result\n  */\n  function emailValid(email) {\n    var re = /^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$/i;\n    return !re.test(email);\n  }\n\n  /**\n  * Form state - loading\n  * @param {Object} event DOM form event\n  * @return {boolean} is loading? true\n  */\n  function formLoading(event) {\n    // make visual change for loading state\n    event.target.children.contact_form__submit.disabled = true;\n    event.target.children.contact_form__submit.innerHTML = 'Wysyłanie...';\n    event.target.children.contact_form__submit.className += ' button--loading';\n    document.getElementById('form__error').style.display = 'none';\n\n    return true;\n  }\n  /**\n  * Form loading state - reset\n  * @param {Object} event DOM form event\n  * @return {boolean} is loading? false\n  */\n  function formLoadingReset(event) {\n    // make visual change for loading state\n    event.target.children.contact_form__submit.disabled = false;\n    event.target.children.contact_form__submit.innerHTML = 'Wyślij';\n    event.target.children.contact_form__submit.className = 'button button--primary';\n\n    return false;\n  }\n  /**\n  * Detects empty inputs in form\n  * @param {Object} event DOM form event\n  * @return {boolean} every form inputs filled?\n  */\n  function inputsFilled(event) {\n    var filled = true;\n    if (event.target.message.value.length === 0) {\n      filled = false;\n    }\n    if (event.target.name.value.length === 0) {\n      filled = false;\n    }\n    if (event.target.email.value.length === 0) {\n      filled = false;\n    }\n\n    return filled;\n  }\n\n  /**\n  * Send form data\n  * @param {Object} event DOM event\n  */\n  function handleFormSubmit(event) {\n    event.preventDefault();\n    var data = getFormData();\n    var isLoading = false;\n    var allInputsFilled = inputsFilled(event);\n\n    // VALIDATION\n    if (isLoading || !allInputsFilled) {\n      document.getElementById('form__error').innerHTML = 'Uzupełnij wszystkie pola formularza';\n      document.getElementById('form__error').style.display = 'block';\n    } else if (emailValid(data.email)) {\n      document.getElementById('form__error').innerHTML = 'Wpisz prawidłowy adres e-mail';\n      document.getElementById('form__error').style.display = 'block';\n    } else {\n      // VALIDATION PASSED\n      isLoading = formLoading(event);\n      var url = event.target.action;\n      var xhr = new XMLHttpRequest();\n      xhr.open('POST', url);\n      xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n      xhr.onreadystatechange = function() {\n        isLoading = formLoadingReset(event);\n        if (xhr.status === 200) {\n          document.getElementById('contact_form').style.display = 'none';\n          document.getElementById('thankyou_message').style.display = 'block';\n        } else {\n          document.getElementById('form__error').innerHTML = 'Coś poszło nie tak :( <br /> Wyślij proszę e-mail na adres: <a href=\"mailto:waskowski.mikolaj@gmail.com\">waskowski.mikolaj@gmail.com</a>. <br /> Dziękuję!';\n          document.getElementById('form__error').style.display = 'block';\n          console.log(xhr.responseText);\n        }\n      };\n      // url encode form data for sending as post data\n      var encoded = Object.keys(data).map(function(key) {\n        return encodeURIComponent(key) + '=' + encodeURIComponent(data[key]);\n      }).join('&');\n\n      xhr.send(encoded);\n    }\n  }\n\n  /**\n  * Activating overlay menu\n  */\n  function menuTrigger() {\n    var overlay = document.getElementById('overlay');\n    overlay.classList.toggle('menu-overlay--open');\n  }\n\n  /**\n  * Check that menu is opened (overlay is active)\n  * @return {boolean} Menu active?\n  */\n  function overlayActive() {\n    return document.getElementById('overlay').classList.contains('menu-overlay--open');\n  }\n\n  /**\n  * Scrolls to element, closing menu overlay if needed\n  * @param {Object} event DOM event\n  */\n  function scrollTo(event) {\n    // goto section marked as button data-goto attribute\n    document.getElementById(event.target.getAttribute('data-goto')).scrollIntoView({\n      behavior: 'smooth'\n    });\n    // need to close menu overlay?\n    if (overlayActive()) {\n      menuTrigger();\n    }\n  }\n\n  /**\n  * Make portfolio item alive\n  */\n  function viewChanger() {\n    var view = document.querySelector('.view');\n    var itemName = document.querySelector('.portfolio__item-name');\n    var backButton = document.querySelectorAll('.button--back');\n    var listItems = document.querySelectorAll('.button--show-more');\n\n    function onViewChange(evt) {\n      // change view - add \"active\" class to main view container\n      view.classList.toggle('view--change');\n      // change details data\n      if (evt.currentTarget.classList.contains('button--show-more')) {\n        itemName.textContent = evt.currentTarget.getAttribute('data-itemid');\n      }\n      evt.preventDefault();\n    }\n\n    for (var j = 0; j < listItems.length; j++) {\n      listItems[j].addEventListener('click', onViewChange, false);\n    }\n    for (var k = 0; k < backButton.length; k++) {\n      backButton[k].addEventListener('click', onViewChange, false);\n    }\n  }\n\n  /**\n  * Runs while document is loaded...\n  */\n  function loaded() {\n    // prevent default submit form action, redirect to handleFormSubmit()\n    var form = document.getElementById('contact_form');\n    form.addEventListener('submit', handleFormSubmit, false);\n    console.log('Info: form submit function loaded');\n\n    // make internal buttons alive\n    var menuBtn = document.getElementById('menu-button');\n    menuBtn.addEventListener('click', menuTrigger, false);\n    var menuBtnClose = document.getElementById('menu-button-close');\n    menuBtnClose.addEventListener('click', menuTrigger, false);\n    var menuLinks = document.getElementsByClassName('internal-link');\n    for (var i = 0; i < menuLinks.length; i++) {\n      menuLinks[i].addEventListener('click', scrollTo, false);\n    }\n    console.log('Info: menu trigger functions loaded');\n\n    // make portoflio item alive\n    viewChanger();\n  }\n  document.addEventListener('DOMContentLoaded', loaded, false);\n})();\n"]}